---
title: 毕业设计论文：基于javaEE的房屋租赁管理系统的设计与实现
tags:
  - 论文
  - 毕业设计
  - Vue
  - JavaEE
abbrlink: e655
toc: true
date: 2021-05-27 15:54:15
---

# 福建工程学院本科毕业设计（论文）作者承诺保证书

本人郑重承诺：本篇毕业设计（论文）的内容真实、可靠。如果存在弄虚作假、抄袭的情况，本人愿承担全部责任。

学生签名：
2020 年 1 月 日

# 福建工程学院本科毕业设计（论文）指导教师承诺保证书

本人郑重承诺：我已按有关规定对本篇毕业设计(论文)的选题与内容进行了指导和审核，且提交的毕业设计（论文）终稿与上传至“大学生论文管理系统”检测的电子文档相吻合，未发现弄虚作假、抄袭的现象，本人愿承担指导教师的相关责任。

指导教师签名：
2020 年 月 日

# 目 录
Md文件中忽略

基于javaEE的房屋租赁管理系统的设计与实现

# 摘 要
在如今的互联网时代，传统繁琐的租赁流程已不太适用于当下忙碌而又快节奏的生活。租客想在工作的城市借居却很难即时发现自己最为心仪的房源；流动租客过多时也导致房东难以进行管理。因此，本课题借由这一社会现象设计并实现了一套房屋租赁管理系统。该课题的开发语言选择Vue与JavaEE，采用Element
UI、SSM等技术框架；使用Tomcat搭建服务器，以及使用MySQL数据库进行数据存储。系统拥有搜索房源、租赁房源、签订合同、支付账单等功能。通过本系统，租客可以直接在网页搜索查询自己想要的房屋信息；通过查阅房源的评分，租客能对房源的客观状态一目了然，同时，也支持租客在网站内完成预约上门看房、申请租房、签约合同、支付房租等功能；房东也可以在网站上直接对合同、账单、租客预约等进行便捷的处理。在处理租客的租房申请时，房东也能根据租客的评分来决定是否向租客出租以避免糟心的问题。系统可以简化租赁流程，直接在一个网站上存储相应的租赁内容并提供随时查阅。不论是租客还是房东，在租赁结束后都能为对方进行评价，形成一套简单的用户评价体系。系统完成后的测试结果表明，该系统运行状态良好，对各个功能进行了不同环境的测试，基本符合用户的良好体验。

关键字：房屋，租赁，Vue，J2EE
Design and Implementation of a House Rental Management System Based on JavaEE

# Abstract

In today's Internet age, the traditional tedious rental process is no longer suitable for today's busy and fast-paced life. Tenants want to live in the city  where they work, but it ’s difficult to find their favorite property instantly;  too many mobile tenants also make it difficult for landlords to manage.  Therefore, the subject designs and implements a house rental management system  based on this social phenomenon. Vue, SSM and other technologies were selected  as the development language used in this system. Using Tomcat to build the  server, and select MySQL database for data storage. The system has functions  such as searching for listings, renting listings, contracts, and paying bills.  Through this system, tenants can search for the desired housing information  directly on the webpage. By checking the ratings of the listing and the  landlord, the objective status of the listing or the landlord can be seen at a  glance. Apply for rent online, read and sign the contract, pay rent bill. The  landlord can also conveniently handle the contracts, the bills, the appointments  and the bill directly on the website. When processing a housing application, you  can decide whether to rent based on the tenant's evaluation. Avoid bad  experiences. The system can make most of the leasing process paperless, store  the corresponding content directly on a website and can check it at any time.  Both the tenant and the landlord can evaluate the other party after the lease  ends, forming a simple user evaluation system. The test results after the  completion of the system show that the system is running well, and various  functions have been tested in different environments, which basically meets the  user's good experience.

Keywords: House, Rent, Vue, J2EE

# 第一章 概述

## 1.1 课题背景及意义

近年来，我国的社会经济迅猛发展，工作机遇也越来越多，市场对于房屋租赁的需求也在不断增多[1]。大部分的年轻人喜欢到大城市去寻找工作，因此，伴随着这一现象的基础问题之一就是住宿。

中国之大，流动人口众多。在中国加入WTO后，房屋租赁行业受到国外竞争者的挑战[2]。如今，网络贯穿着我们生活的各个场景，人们越来越希望在繁琐重复的事情上节省更多的时间。传统的那种：租客四处寻、房东、房东用纸笔记录的方式已经不是那么得适用于目前的情况。而租客身在异乡人生地不熟，很难一时发现自己最为心仪的出租房；流动租客过多时，房东也很难进行便捷管理。本课题准备设计一个针对租客、房东两位核心角色，提供便捷寻房、租房和住房的平台。便捷二字，对于为生活奔波的租客、管理的房东来讲无疑是最重要的，所以，本课题的研究对于这两类角色有着减轻负担、节省时间、提升生活里的幸福感的意义。

## 1.2 国内外现状

### 1.2.1国内现状

同发达国家相比，我国的租赁公寓起步较晚，租赁政策较少，因此我国目前的租赁市场并不健全，传统的住房租赁市场主要为个体房东，机构参与者较少[11]。稀少的平台导致在某些区域里，租赁价格与实际价值有出入、价格不透明，从而存在不同的租客租赁同一间房源时，存在没有理由的价格差异的现象。

### 1.2.2国外现状

与大多数发展国家而言，国外的房屋租赁率较高主要是一种分配制度造成的[3]。德国的首都柏林大约有22.5万套“社会住房”专供低收入者租住[4]；日本东京为了解决高昂的租房金问题政府制定一套完善策可以根据不同的收入缴纳租金[6]。国外的房屋租住政策使得国外的房屋市场发展迅猛。一是通过共享信息平台政策使得国外的房屋市场发展迅猛，或者房屋租赁软件来推广业务；二是通过先进的互联网技术提高数据处理效率，完全替代手工录用方式。[7][8]

# 第二章 相关技术

## 2.1开发环境

开发工具：IntelliJ IDEA 2019.1.1

数据库管理工具：Navicat for MySQL5.5

开发语言：Vue + JavaEE

## 2.2相关技术

### 2.2.1 Vue技术

Vue.js是一套构建用户界面的渐进式框架，他能够更方便的进行页面上数据的处理，并且实现单页面多内容渲染。

### 2.2.2 MySQL

MySQL
是一种关联数据库管理系统，关联数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。

### 2.2.3 SSM

SSM是SpringMVC + Spring + MyBatis的简称，它是目前比较主流的Java
EE企业级的后台框架。使用它能快速搭建起系统的后台功能。

# 第三章 系统需求分析

## 3.1 系统概述

本课题网站名称为“嘤嘤租房网”，主要的目的是实现以下功能：用户注册、用户登录、浏览房源、申请看房、申请租房等。

## 3.2 系统业务分析

“嘤嘤租房网”的核心功能为租赁房源，所以本网站的角色一共有三位——分别是租客、房东和管理员。
### 租客的业务流程分析

在访问“嘤嘤租房网”时，可先浏览网站上已经上架的房源信息，但无法进行后续的操作。租客在登录账号并实名认证通过后，才可以使用网站其余功能，如向房东发起看房预约、租房申请等。本网站租客的操作流程如图3-1所示。

图3-1 租客的业务流程活动图

### 房东的业务分析

- 房东

房东在登录账号，并且实名认证后，房东才可以使用网站其余的功能。房东可以发布自己的房源，处理看房预约，处理租房申请等。本网站房东的操作流程如图3-2所示。

图3-2 房东的业务流程活动图

 - 管理员

网站的实名信息与房源的信息，都需要通过管理员进行审核。网站管理员的操作流程如图3-3所示。

图3-3 网站管理员的业务流程活动图

## 3.3 功能需求

### 3.3.1 网站前端模块

“嘤嘤租房网”的前端有网站欢迎页、搜索结果页、详情页、登录页、注册页、房东个人中心和租客个人中心，供用户完成以下功能：

 - 搜索房源

不论浏览“嘤嘤租房网”的访问者是否登录，网站都支持房源的检索。访问者可以根据自己需要输入关键字检索特定范围内的房源信息。

 - 查看房源详情

用户可以单击搜索结果页面的某一条信息，在详情页面查看更完整的房源信息。如：浏览地图位置、房源的介绍文案、房源的住后评价等信息。

 - 用户注册与登录

当访问者想要操作网站的更多功能时，需要访问者拥有本网站的账号。访问者可以登录账号再进行操作，或者先注册再进行登录。

 - 发起看房预约

当租客用户想要上门看房，并没有明确要租赁的情况时，可以提交线下上门看房的预约给房东用户。

 - 发起租房申请

当租客用户想要租住房源时，可提交租房申请给房东。

 - 合同功能

租客和房东在双方都意向租赁时，需要依靠合同模块达成租赁关系。租客向房东发起的租房申请，房东可以依据此申请发起租赁合同。合同功能是“嘤嘤租房网”其他功能的依据。

 - 评价功能

租客和房东可以使用此功能为对方评价。“嘤嘤租房网”是基于实名的租房网站，为对方客观地评分对下一次租赁时起到了重要的参考作用。

 - 实名功能

出于租赁的性质，用户使用网站时必须先进行实名再进行租赁。

 - 房源功能

房东可以通过此功能发布和维护自己的房源信息。

在前台模块中，系统根据登录状态，将用户分为两种角色。各个角色的用例如下所描述。

 - 网站租客用例

租客未登录时仍可访问“嘤嘤租房网”的展示页面，其可以检索房源、查看房源详情。租客也可根据需要使用注册和登录功能，拥有一个属于自己的账号。具体的用例如图3-4所示。

图3-4 网站租客用例图

用户发起看房预约功能的详细描述如表3-1所示。

表3-1 发起看房预约功能用例描述

| 名称                 | 内容                                               |
| ---------- | -------------------------------------------------- |
| 用例编号： | US01                                               |
| 用例名：   | 发起看房预约                                       |
| 参与者：   | 用户                                               |
| 触发因素： | 用户想上门看房                                     |
| 输入信息： | 填写预约时间；选填给房东的留言                     |
| 结果：     | 预约提交成功                                       |
| 后置条件： | 数据库中的上门看房预约表成功存储了该用户预约申请。 |
| 过程：     | 1）输入预约时间 2）提交预约，点击“预约”按钮        |

用户提交租房申请功能的详细描述如表3-2所示。

表3-2 提交租房申请功能用例描述

| 名称       | 内容                                                |
| ---------- | --------------------------------------------------- |
| 用例编号： | US02                                                |
| 用例名：   | 发起租房申请                                        |
| 参与者：   | 用户                                                |
| 触发因素： | 用户想申请租赁房源                                  |
| 输入信息： | 填写租赁的开始日期和结束日期                        |
| 结果：     | 申请提交成功                                        |
| 后置条件： | 数据库中的租赁合同表成功存储了该用户租房申请。      |
| 过程：     | 1）输入租赁时间范围 2）提交预约，点击“提交申请”按钮 |

支付账单功能的详细描述如表3-3所示。

表3-3 支付账单功能用例描述

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | US03                                                         |
| 用例名：   | 支付账单                                                     |
| 参与者：   | 租客用户                                                     |
| 触发因素： | 租客用户想要支付房东用户发起的账单                           |
| 后置条件： | 正确跳转到支付宝的支付页面 线下支付的提示框正确显示 订单状态正确更改 |
| 过程：     | 点击“支付宝线上支付”按钮或点击线下支付按钮                   |

评价房源和房东的详细描述如表3-4所示。

表3-4 用户登录功能用例描述

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | US04                                                         |
| 用例名：   | 评价房东与房源                                               |
| 参与者：   | 租客用户                                                     |
| 触发因素： | 用户在合同结束后评价房源和房东                               |
| 输入信息： | 选定评分，输入评价内容                                       |
| 后置条件： | 数据库的房源评价表成功新增一条评价信息 数据库的用户评价表成功新增一条评价信息 |
| 过程：     | 点击“我要评价TA”按钮 选择评价星级 点击“提交评价”按钮。       |

 - 网站房东用户用例

房东角色的用户可以使用租赁流程所需要的功能，如：发起合同、发起账单等。具体的房东角色的用例图如图3-5所示。

图3-5 网站房东的用例图

处理看房预约功能的详细描述如表3-5所示。

表3-5处理看房预约功能用例描述

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | US05                                                         |
| 用例名：   | 处理看房预约                                                 |
| 参与者：   | 房东用户                                                     |
| 触发因素： | 房东用户想处理租客用户发起的看房预约                         |
| 结果：     | 通过预约/退回预约                                            |
|            | 续表3-5                                                      |
| 后置条件： | 存储在数据库预约表的预约信息的状态成功更改为拒绝状态/预约成功状态 |
| 过程：     | 选择房东处理选项 点击“提交处理”按钮                          |

发起账单功能的详细描述如表3-6所示。

表3-6发起账单功能用例描述

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | US06                                                         |
| 用例名：   | 发起租赁账单                                                 |
| 参与者：   | 房东用户                                                     |
| 触发因素： | 房东用户想对租客发起租赁账单                                 |
| 结果       | 账单成功创建，通知租客                                       |
| 输入信息： | 选择收租的对象；填写最新房源水表与电表读数；输入调节费用和费用说明 |
| 后置条件： | 数据库中的账单表成功存储该条账单信息                         |
| 过程：     | 点击“发起账单”按钮 选择收租对象，填写租赁产生的费用信息和读数 核对信息并点击“完成发起”按钮 |

取消账单功能的详细描述如表3-7所示。

表3-7取消账单功能用例描述

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | US07                                                         |
| 用例名：   | 取消租赁账单                                                 |
| 参与者：   | 房东用户                                                     |
| 触发因素： | 房东用户想取消账单的收租                                     |
| 结果       | 账单取消成功，租客无法支付                                   |
| 后置条件： | 数据库中的账单表里对该账单信息的账单状态成功的更改为已取消状态； 数据库的房源表成功回滚到上一次的抄表数据 |
| 过程：     | 点击“查看”按钮 点击“取消这份账单”按钮 点击确认框的“确认”按钮 |

发布房源信息功能的详细描述如表3-8所示。

表3-8发布房源信息功能用例描述

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | US08                                                         |
|            | 续表3-8                                                      |
| 用例名：   | 发布房源信息                                                 |
| 参与者：   | 房东用户                                                     |
| 触发因素： | 房东用户想在网站发布自己的房源信息                           |
| 结果       | 房源信息成功上传                                             |
| 输入信息： | 输入房源宣传标题、房源相关属性、租赁价格、宣传图片、介绍内容等。 |
| 后置条件： | 数据库中的房源表里成功存储该房源信息，等待管理员审核         |
| 过程：     | 点击“新增房源”菜单 输入介绍标题、房源楼层、面积、房屋租赁定价 输入坐落的省市区信息、详细地址、房屋的相关属性 上传房源图片，输入房源介绍内容 点击“提交房源信息新增”按钮 |

签约合同功能的详细描述如表3-9所示。

表3-9 签约合同功能用例描述

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | US09                                                         |
| 用例名：   | 签约合同                                                     |
| 参与者：   | 租客用户                                                     |
| 触发因素： | 用户想租赁房源进行合同签约                                   |
| 后置条件： | 数据库中的合同表里该申请信息的申请状态改已生效               |
| 过程：     | 点击“去签约”按钮 浏览并勾选“我同意签约合同”的复选框 点击“提交”按钮 |

提交实名信息功能的详细描述如表3-10所示。

表3-10 提交实名信息功能用例描述

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | US10                                                         |
| 用例名：   | 提交实名信息                                                 |
| 参与者：   | 用户                                                         |
| 触发因素： | 用户想要在本网站进行实名认证                                 |
| 输入信息： | 输入真实姓名、身份证号码；上传身份证国徽面、头像面和手持身份证的照片。 |
| 后置条件： | 数据库的实名信息表成功插入用户数据。                         |
| 过程：     | 输入姓名和身份证号码，上传证件照片 点击“提交”按钮            |

### 3.3.2 网站后端模块

后端模块基于网站的租赁需求，设立了管理中心，其为网站管理员的管理平台。网站的房源信息、实名信息都需要先经过管理中心审核后，信息才能通过继续下一步的流程。具体的管理员角色的用例图如图3-6所示。

图3-6 管理员中心的用例图

审核房源信息功能的详细描述如表3-11所示。

表3-11 处理看房预约功能用例描述

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | US11                                                         |
| 用例名：   | 审核房源信息                                                 |
| 参与者：   | 管理员                                                       |
| 触发因素： | 管理员想审核网站房东用户上传的房源信息                       |
| 结果：     | 审核通过/审核退回                                            |
| 后置条件： | 存储在数据库的房源表的信息的审核状态成功更改为审核通过/审核被驳回； 审核通过时，网站前端可以搜索到该房源。 |
| 过程：     | 点击“查看详情”按钮 选择管理员处理选项 点击“提交处理”按钮     |

# 第四章 系统设计

## 4.1系统概要设计

“嘤嘤租房网”是一个为用户提供在线房源租赁的网站。该网站为房东为用户提供在线发布房源的平台，使得租客用户可以足不出户就可以知晓到房东的房源信息；租客可以在线向房东发起看房预约和申请，也可以与房东在网站上签署合同、支付账单等。本网站具有从看房到合同、账单到评价等基本的租赁流程，使得租客和房东两大核心角色在租赁这件事情不再糟心，把更多的精力投入生活。

## 4.2功能模块设计

“嘤嘤租房网”拥有租赁房源所需要的基本流程。网站的功能结构如图4-1所示。

图4-1 网站的功能结构图

### 4.2.1 公共前端模块

公共前端模块包括了用户登录、用户注册、浏览信息、提交信息等功能。

 - 用户注册功能

用户点击输入框下方的“登录/注册”按钮后，系统会跳转到登录界面。如果浏览者希望注册一个本网站的账号，可以接着单击“注册”按钮，系统会显示一个注册的表单供访问者填写。访问者需要填写手机号码、访问本网站的密码、登录角色和手机验证码功能。访问者点击注册后，系统会校验表单是否填写完全，校验手机格式，并且校验验证码是否正确。上述校验规则都通过后，系统会提示注册成功，并且自动返回到登录界面。注册流程如图4-2所示。

图4-2 用户注册活动图

 - 发起上门看房预约/发起租房申请

访问者成为本网站用户后，可以进行租房的其他操作，如看房预约、租房申请等。在前端的房源详情页，如果浏览的房源状态为空闲时，页面会开放预约和租房的按钮供用户使用。用户只有实名通过的情况下可以使用这两个功能，否则无法使用。用户使用前端的功能活动如图4-3所示。

图4-3 用户发起看房预约和租房申请的活动图

### 4.2.2 个人中心模块

个人中心模块包括了房东个人中心和租客中心两个中心。个人中心包括了实名功能、个人信息编辑功能，不同角色的预约管理功能、租房申请功能、合同功能、账单功能等。

 - 修改密码功能

当用户想要修改自己的登录密码，需要先输入原始的密码，再输入新的密码才能完成更改。修改密码的活动如图4-4所示。

图4-4 用户修改密码的活动图

 - 实名认证功能

用户需要提交自己的真实姓名、身份证号码、身份证的正反面和手持身份的照片上传到系统。等待系统的管理员审核。审核通过后方可使用网站的其他功能。

 - 个人信息编辑功能

用户可以编辑自己的个人信息，如昵称、性别等。个人信息主要体现在房屋评价里。

 - 租赁合同功能

用户可以在这里浏览有关于自己的合同的信息，所有的合同会以表格的形式展示给用户。根据用户的角色，系统会给出不同的操作按钮。房东可以处理租客发起的申请拉起一份合同发送给用户签约；租客也可以查看并签约拉起的合同。用户操作合同的活动如图4-5所示。

图4-5 租客与房东签约合同的泳道活动图

 - 账单功能

租客在租赁期间产生的租赁费用，需要房东去向租客发起账单。发起后，租客将收到账单的信息。租客查看账单后可以选择支付方式，向房东支付账单。租客选择线上支付时，租客支付后，账单将变更为已支付状态；租客选择线下支付给房东后，房东需要手动选择房租已入账，账单才能结束。用户操作账单的活动如图4-6所示。

图4-6 房东与租客账单操作的泳道活动图

 - 预约功能

用户可以在自己的中心里查看与自己有关的预约信息。所有的预约信息会以表格的形式呈现在页面里，并且根据角色和预约的状态提供操作按钮。用户可以对预约进行处理。

 - 房源功能

房源功能主要提供给房东角色使用。房东可以利用房源功能新发布自己的房源信息、维护自己的房源信息。新增或维护后的房源信息。

### 4.2.3 管理员模块

 - 房源信息审核功能

房东在上传房源信息，或者维护房源信息后，公共前端页面并不能直接搜索到房源的详情。只有管理员审核通过后，房源才允许被用户搜索并查看、租赁等。

 - 实名认证信息审核功能

本网站的用户需要进行实名认证后才允许使用网站的其他功能。所有的实名信息都会被提交至管理员中心等待管理员审核。管理员审核实名信息的活动如图4-7所示。

图4-7 管理员审核信息的活动图

## 4.3数据库设计

### 4.3.1 概要设计

根据前期的调查与在分析，得出以下数据库的设计概念。ER图来描述本网站的概念结构如下图4-8所示。

图4-8 网站ER图

首先是用户实体图，如图4-9所示。它拥有用户手机号、用户登录密码、角色等属性，记载着用户的个人信息。

图4-9 用户实体图

其次，是用户的实名认证信息的实体图，如图4-10所示。他记载着用户的真实信息，包括身份证号码与证件照片等。

图4-10 用户实名信息实体图

用户在浏览的核心信息，房源的实体图，如图4-11所示。其记载着房源的所有信息。

图4-11 房源实体图

用户的租赁产生的费用账单，存储在租赁账单的实体里，如图4-12所示。

图4-12 租赁账单实体图

租客和房东签订的合同信息，存储在租赁合同的实体里，如图4-13所示。

图4-13 租赁合同实体图

管理员的实体里存储着管理员的登录信息，如图4-14所示。

图4-14 系统管理员实体图

### 4.3.2 物理设计

根据本课题的需求分析后，归纳并设计出以下数据库表。都有：用户表，管理员表，房源信息表，房源评价表，用户评价表，租赁合同表，看房预约表，租赁账单表，用户实名信息表，中国省市区信息表，房源地图经纬度记录表。

 - 用户表

用户表存放的是用户的信息列表，主要用于记录用户的手机号码、个人信息、登录密码和角色类型。用户表的设计结构图如表4-1所示。

表4-1 用户表(users)

| 代号 | 字段名       | 数据类型 | 大小 | 说明 | 空值 | 描述       |
| ---- | ------------ | -------- | ---- | ---- | ---- | ---------- |
| 1    | u_id         | int      |      | 主键 | 否   | 用户表的ID |
| 2    | u_role       | int      |      |      | 否   | 用户角色   |
| 3    | u_head_image | varchar  | 255  |      | 是   | 用户头像   |
| 4    | u_telephone  | varchar  | 11   |      | 否   | 电话       |
| 5    | u_pwd        | varchar  | 30   |      | 否   | 密码       |
| 6    | u_name       | varchar  | 25   |      | 否   | 昵称       |
| 7    | u_sex        | int      |      |      | 是   | 性别       |
| 8    | u_state      | int      |      |      | 否   | 用户状态   |

 - 管理员表

管理员表存放的是管理人员的信息的数据表，包含了管理员的登录账号和登录密码。表结构如表4-2所示。

表4-2 管理员表(systemuser)

| 代号 | 字段名  | 数据类型 | 大小 | 说明 | 空值 | 描述         |
| ---- | ------- | -------- | ---- | ---- | ---- | ------------ |
| 1    | sysid   | int      |      | 主键 | 否   | 管理员表的ID |
| 2    | sysname | varchar  | 25   |      | 否   | 管理员登录名 |
|      | 续表4-2 |          |      |      |      |              |
| 3    | syspwd  | varchar  | 30   |      | 否   | 管理员密码   |

 - 房源信息表

房源信息表储存了房东发布的房源信息，房源表同时还储存了房源的电表和水表，生成账单时，房源的表读数会同步更新数据。表结构如表4-3所示。

表4-3 房源信息表(house_infomation)

| 代号 | 字段名               | 数据类型 | 大小 | 说明 | 空值 | 描述              |
| ---- | -------------------- | -------- | ---- | ---- | ---- | ----------------- |
| 1    | h_id                 | int      |      | 主键 | 否   |                   |
| 2    | h_name               | varchar  | 255  |      | 是   | 房源宣传文案      |
| 3    | h_address_city       | int      |      |      | 否   | 所属城市          |
| 4    | h_address_detial     | varchar  | 50   |      | 否   | 房源地址          |
| 5    | h_house_floor        | int      |      |      | 否   | 房源楼层          |
| 6    | h_houst_information  | varchar  | 500  |      | 否   | 房源介绍          |
| 7    | u_id                 | int      |      |      | 否   | 房主ID            |
| 8    | h_rent_price         | float    |      |      | 否   | 房租价格          |
| 9    | h_image              | varchar  | 255  |      | 否   | 房屋图片          |
| 10   | h_rent_state         | int      |      |      | 否   | 出租状态          |
| 11   | h_water_number       | int      |      |      | 否   | 水表底数          |
| 12   | h_electricity_number | int      |      |      | 否   | 电表底数          |
| 13   | h_audit_state        | int      |      |      | 否   | 房源上架审核状态  |
| 14   | h_area_number        | float    |      |      | 否   | 房源面积          |
| 15   | h_room_type          | int      |      |      | 否   | 房屋户型-几室几厅 |
| 16   | h_decorate_situation | int      |      |      | 否   | 房屋装修情况      |
| 17   | h_post_time          | date     |      |      | 否   | 发布日期          |
| 18   | h_pay_type           | int      |      |      | 否   | 意向押付方式      |

 - 房源评价表

房源评价表是基于合同结束后，租客对房东的房源的一个评价。表的内容包含租客和房东的ID，房源的ID和评价星级等等字段。表结构如表4-4所示。

表4-4 房源评价表(house_evaluation)

| 代号 | 字段名       | 数据类型 | 大小 | 说明 | 空值 | 描述                |
| ---- | ------------ | -------- | ---- | ---- | ---- | ------------------- |
| 1    | he_id        | int      |      | 主键 | 否   |                     |
| 2    | u_id         | int      |      |      | 否   | 用户ID              |
| 3    | h_id         | int      |      |      | 否   | 房源ID              |
|      | 续表4-4      |          |      |      |      |                     |
| 4    | c_id         | int      |      |      | 否   | 合同ID              |
| 5    | he_date      | date     |      |      | 否   | 评价时间            |
| 6    | he_content   | varchar  | 500  |      | 是   | 评价内容            |
| 7    | he_sorce     | int      |      |      | 是   | 房屋评价星级（1-5） |
| 8    | he_anonymous | int      |      |      | 否   | 是否匿名            |

 - 用户评价表

租赁结束后，用户对用户的评价会储存在用户评价表里。表的结构如表4-5所示。

表4-5 用户评价表(user_evaluation)

| 代号 | 字段名       | 数据类型 | 大小 | 说明 | 空值 | 描述         |
| ---- | ------------ | -------- | ---- | ---- | ---- | ------------ |
| 1    | ue_id        | int      |      | 主键 | 否   | 评价ID       |
| 2    | c_id         | int      |      |      | 否   | 基于的合同号 |
| 3    | u_id         | int      |      |      | 否   | 评价人ID     |
| 4    | ue_date      | date     |      |      | 否   | 日期         |
| 5    | ue_content   | varchar  | 255  |      | 是   | 内容         |
| 6    | ue_sorce     | float    |      |      | 否   | 评分         |
| 7    | ue_post_u_id | int      |      |      | 否   | 评价对象ID   |

 - 租赁合同表

租赁合同表是储存了当租客发起租房的申请，房东将合同信息补齐后，双方约定的合同信息。存储的字段可供系统生成完整的合同书，也可以提取大纲供用户查看一目了然。表结构如表4-6所示。

表4-6 租赁合同表(rent_contract)

| 代号 | 字段名               | 数据类型 | 大小 | 说明 | 空值 | 描述         |
| ---- | -------------------- | -------- | ---- | ---- | ---- | ------------ |
| 1    | c_id                 | int      |      | 主键 | 否   | 合同ID       |
| 2    | o_create_time        | datetime |      |      | 否   | 创建时间     |
| 3    | h_id                 | int      |      |      | 否   | 房源ID       |
| 4    | o_tenants_id         | int      |      |      | 否   | 租客id       |
| 5    | o_master_id          | int      |      |      | 否   | 房东id       |
| 6    | o_rent_money         | float    |      |      | 否   | 房租         |
| 7    | o_rent_type          | int      |      |      | 否   | 押付类型     |
| 8    | o_house_full_address | varchar  | 255  |      | 否   | 房源完整地址 |
| 9    | o_house_area         | float    |      |      | 否   | 面积         |
| 10   | o_house_deposit      | float    |      |      | 否   | 押金         |
|      | 续表4-6              |          |      |      |      |              |
| 11   | o_sign_time          | datetime |      |      | 否   | 租客签约时间 |
| 12   | c_perform_start_date | date     |      |      | 否   | 合同开始日期 |
| 13   | c_perform_end_date   | date     |      |      | 否   | 合同结束如期 |
| 14   | c_contract_state     | int      |      |      | 否   | 合同状态     |

 - 看房预约表

看房预约表是租客对某一房源感兴趣，想要是实地查看房源时向房东提交申请的数据表。主要的字段为租客ID、房源ID、预约时间、租客留言和房东回复等。表结构如表4-7所示。

表4-7 预约上门看房表(see_house_application)

| 代号 | 字段名             | 数据类型 | 大小 | 说明 | 空值 | 描述     |
| ---- | ------------------ | -------- | ---- | ---- | ---- | -------- |
| 1    | sh_id              | int      |      | 主键 | 否   | 预约ID   |
| 2    | o_tenants_id       | int      |      |      | 否   | 租客ID   |
| 3    | h_id               | int      |      |      | 否   | 房源ID   |
| 4    | o_master_id        | int      |      |      | 否   | 房东ID   |
| 5    | sh_see_house_time  | datetime |      |      | 否   | 预约时间 |
| 6    | sh_tenants_message | varchar  | 255  |      | 是   | 租客留言 |
| 7    | sh_master_message  | varchar  | 255  |      | 是   | 房东回复 |
| 8    | sh_state           | int      |      |      | 否   | 预约状态 |

 - 租赁账单表

租赁账单表是用于存储租客在租赁期间产生的租赁费用需要结算的数据表。由于涉及支付，本表格的字段有相关的读表信息、收费单价、租客ID、房东ID、创建时间、支付时间、支付方式、支付状态等。表结构如表4-8所示。

表4-8 租赁账单表(rent_order)

| 代号 | 字段名                 | 数据类型 | 大小 | 说明 | 空值 | 描述             |
| ---- | ---------------------- | -------- | ---- | ---- | ---- | ---------------- |
| 1    | o_id                   | int      |      | 主键 | 否   | 账单ID           |
| 2    | o_create_time          | datetime |      |      | 否   | 账单创建时间     |
| 3    | c_id                   | int      |      |      | 否   | 合同ID           |
| 4    | o_tenants_id           | int      |      |      | 否   | 租客ID           |
| 5    | o_master_id            | int      |      |      | 否   | 房东ID           |
| 6    | o_last_electric_number | int      |      |      | 否   | 上一周期电表读数 |
| 7    | o_now_electric_number  | int      |      |      | 否   | 本期电表读度     |
| 8    | o_last_water_number    | int      |      |      | 否   | 上一周期水表读数 |
|      | 续表4-8                |          |      |      |      |                  |
| 9    | o_now_water_number     | int      |      |      | 否   | 本期水表读度     |
| 10   | o_electric_price       | float    |      |      | 否   | 本期电费单价     |
| 11   | o_water_price          | float    |      |      | 否   | 本期水费单价     |
| 12   | o_house_rent_price     | float    |      |      | 否   | 租赁房租         |
| 13   | o_adjust_price         | float    |      |      | 否   | 调节费           |
| 14   | o_adjust_explain       | varchar  | 50   |      | 是   | 调节费备注       |
| 15   | o_order_money          | float    |      |      | 否   | 账单总金额       |
| 16   | o_pay_method           | int      |      |      | 否   | 支付方式         |
| 17   | o_pay_state            | int      |      |      | 否   | 支付状态         |
| 18   | o_pay_dead_line        | date     |      |      | 否   | 支付截止时间     |
| 19   | o_pay_time             | datetime |      |      | 否   | 租客支付时间     |

 - 用户实名信息表

用户实名信息表顾名思义，存储着用户的实名数据。包括真实姓名，身份证号码等。表结构如表4-9所示。

表4-9 用户实名表(userverify)

| 代号 | 字段名                           | 数据类型 | 大小 | 说明 | 空值 | 描述                 |
| ---- | -------------------------------- | -------- | ---- | ---- | ---- | -------------------- |
| 1    | v_id                             | int      |      | 主键 | 否   | 实名ID               |
| 2    | u_id                             | int      |      |      | 否   | 用户ID               |
| 3    | v_real_name                      | varchar  | 5    |      | 否   | 用户真实姓名         |
| 4    | v_id_card_number                 | varchar  | 18   |      | 否   | 用户身份证号码       |
| 5    | v_real_id_card_image1            | varchar  | 55   |      | 否   | 身份证头像面图片地址 |
| 6    | v_real_Id_card_image_2           | varchar  | 55   |      | 否   | 身份证国标面图片地址 |
| 7    | v_real_Id_card_image_with_person | varchar  | 55   |      | 否   | 人手持身份证图片地址 |
| 8    | v_upload_time                    | datetime |      |      | 否   | 用户上传更新时间     |
| 9    | v_audit_time                     | datetime |      |      | 是   | 管理员审核时间       |
| 10   | v_verify_state                   | int      |      |      | 否   | 实名信息审核状态     |

# 第五章 系统实现

## 5.1公共前台模块

### 5.1.1 欢迎页面

网站的前台模块默认从欢迎页开始显示，该页面提供了登录注册的入口和搜寻房源信息的输入框。输入搜寻内容点击按钮后，页面则会罗列出相关的房源信息。网站的欢迎页面如图5-1所示。

图5-1 “嘤嘤租房网”欢迎页

### 5.1.2 用户注册页

用户在使用“嘤嘤租房网”时，需要注册一个自己的账号。本网站以手机号码作为登录账号。注册表单在提供用户输入信息的同时加入了校验规则。如：手机号码一定要为中国大陆手机的11位格式、密码和确认密码需要保持一致等。用户注册页面如图5-2所示。

图5-2 用户注册页面

注册的代码如下：

```js
RegisterFromUser(regform).then(res => {

if (res.data.success == true) {

this.$notify.success({

title: "注册成功",

message: "账号已注册成功！请牢记您的密码！"

});

} else {

this.$notify.error({

title: "登录失败",

message: "用户账号或密码输入错误！"

});

this.loicon = "";

}

});





### 5.1.3 用户登录页

用户需要输入自己的手机号码和登录密码进行登录。当登陆成功后，系统会识别用户的角色类型，跳转到对应的个人中心页面。登录页面如图5-3所示。

图5-3 用户登录页面

### 5.1.4 搜索结果页

当用户在欢迎页输入关键字搜索、或者查看全部房源信息，系统会将相应的房源信息检索出来罗列在搜索结果页面里。该页面会显示房源的图片、房源宣传标题、房源的信息、租赁的价格和所在的省市区信息，供用户进行简易的查看。搜索结果页面如图5-4所示。

图5-4 搜索结果页面

搜索的主要代码如下：

```js
this.isLoad = true;

getHouseBySearchKey({// 获取房源所在的区级ID

key: this.searchKey,

pageSize:this.pageSize

}).then(res =\> {//获取模糊查询结果集

this.TEMPsearchHouseInfo = res.data.data;

for (let i = 0; i \< this.TEMPsearchHouseInfo.length; i++) {

getFullCityAdd({//根据城市代码拼凑成完整的省市区字符

cbId: this.TEMPsearchHouseInfo[i].hAddressCity

}).then(res =\> {

let citytext = res.data.data[2] + "省-" + res.data.data[1] + "市" +
res.data.data[0] + "区";

this.searchHouseInfo.push(

Object.assign(this.TEMPsearchHouseInfo[i], { cityinfo: citytext })

) });}

});
```





### 5.1.5 房源详情页

当用户对其中某一条的房源信息有兴趣，可点击该条标题，系统会跳出新的页面，为租客展示房源的详情信息。页面主要分成房源信息、房源说明、房源评价三个部分。

第一部分为房源的信息介绍。内容包括房源的宣传标题、发布时间、房源的各类属性等。单击左边的图片，会全屏显示该房源的图片。此外，这个部分还有两个操作按钮，分别是预约上门看房和发起租房申请。详情页第一部分界面如图5-5所示。

图5-5 房源详情页第一部分界面

这两个功能使用的前提为用户已经登录，且已经通过实名认证。如果实名认证未提交、审核中或者被退回，均属于未实名状态，使用这两个功能时会被拦截，并给出相应的提示。其中，实名信息审核中的拦截通知如图5-6所示。

图5-6 使用功能被拦截的通知界面

使用功能的代码如下：

```js
checkIsUserAuth() {

checkIsAuth(sessionStorage.getItem("userid")).then(res =\> {

if (res.data.success == false) {

this.\$alert("原因：" + res.data.data, "抱歉，您无法使用此功能");

return false;

}

});return true;

}
```

用户想要上门看房，点击预约上门看房按钮后，系统会显示一个表单给用户选择期望上门看房的时间和想对房东说的留言。输入完信息后点击确定后，该预约申请会发送到房东。发起看房预约的表单如图5-7所示。

图5-7 发起看房预约的表单界面

用户有意向租赁房源，点击发起租房申请按钮后，系统会显示申请的表单给用户填写期望入住的时间范围。对于时间范围提供了三个快捷选项。如果用户想租赁其他范围的时间，也可以自己选择租赁区间，且用户只能被允许选择未来时间。提交后，系统会将租房申请提交给房东。发起租房申请的表单如图5-8所示。

图5-8 发起租房申请的表单界面

房源详情页的第二部分主要有房源的介绍和房源的位置两个信息。房源介绍为房东录入的介绍信息，地图使用高德地图的接口，可以通过拖动、缩放等方式知晓房源周围的地理交通。详情页的第二部分的界面如图5-9所示。

租客发起租房申请的代码如下：

```java
@PostMapping("insertOneApplicationForContract")

public Result PostRentHouseApplication(@RequestBody RentContractDO applicate){

int i = rentImpl.PostRentHouseApplication(applicate);

if(i\>0){

return Result.create(true,i);

}

return Result.create(false,i);

}
```

图5-9 房源详情页第二部分界面

第三部分为房源的评价部分。当租客结束租房后，系统会提供评价功能让租客去评价这个房源。评价的评价人昵称、分数和内容都会公开在这里。因为评价功能只对已经租赁过该房源、并且租赁已结束的租客开放，真实性相比较会提高很多，可以作为租客租赁房源的一大权衡依据。第三部分的界面如图5-10所示。

图5-10 房源详情页的第三部分界面

## 5.2 租客中心模块

### 5.2.1 租客中心的欢迎页

当租客登录成功后，系统会识别角色并跳转到租客中心。租客中心的界面为侧栏和主栏的布局。在没有使用租客中心的任何功能时，主栏为欢迎状态。租客可以通过侧栏选择需要使用的功能。租客中心提供的功能主要有：实名认证、修改密码、修改个人信息、查看合同、查看账单、查看预约等。
租客中心的欢迎页如图5-11所示。

图5-11 租客中心的欢迎页

### 5.2.2 租客中心的实名认证功能

用户使用点击实名认证后，主栏会显示实名认证的表单。如果用户没有实名信息，或者实名信息被退回，表单会提示用户重新输入相关的实名信息。表单也会显示用户提交的时间和管理员审核的时间，如果有提交实名信息记录，实名信息审核的状态会显示在表单的左上角以章戳的形式标注。用户实名认证的界面如图5-12所示。

图5-12 租客中心的欢迎页

用户提交实名信息的代码如下：

```java
@PostMapping("postUserAuthInfo")

public Result insertUserAuthInfomation(@RequestBody UserVerifyDO userAuthInfo){

System.out.println("用户提交了身份认证请求：");

System.out.println(userAuthInfo.toString());

userAuthInfo.setvUploadTime(new Date());

System.out.println(userAuthInfo.getvUploadTime());

int i = userVerifyImpl.insertUserAuthInfo(userAuthInfo);

return Result.create(i);

}
```



### 5.2.3 租客中心的密码修改功能

用户点击修改密码功能后，主栏会显示相应的表单。该表单拥有基础的校验规则，在校验通过后，新的密码会以MD5加密后更新至数据库当中。修改密码的界面如图5-13所示。

图5-13 租客中心的密码修改界面

修改密码的主要代码如下：

```java
@PutMapping("updateUserPwd")

public Boolean setUserNewPwd(@RequestBody UsersDO user){

int i = userImpl.updateUserNewPwd(user);

if(i==0)return false;

return true;

}
```



### 5.2.4 租客中心的个人信息编辑功能

用户想要编辑自己的个人信息时，可以使用此功能。表单可以及时更换头像、昵称、性别等字段。该信息主要用于显示在评论部分。个人信息编辑的界面如图5-14所示。

图5-14 租客中心的个人信息编辑界面

上传更新自己头像的主要代码如下：

```java
@PostMapping("addUserHeadPortrait")

public Result uploadUserHeadImage(MultipartFile file) throws IOException {

String picPath = "E:\\\\vue-test\\\\src\\\\img\\\\userHead\\\\";//本地路径

String fileName=file.getOriginalFilename();

String suffix = fileName.substring(fileName.lastIndexOf("."));

String uuid = UUID.randomUUID().toString().replace("-","_");

String newFileName= "pic"+uuid+suffix;

file.transferTo(new File(picPath,newFileName));

return Result.create(newFileName);

}
```



### 5.2.5 我的合同功能

当租客想要查看自己签约的和待签约的合同时，可以在这里预览。如果租客拥有待签约的合同，则可以点击操作列的签约按钮；如果租客想回顾查看自己的合同信息时，也可以点击详情操作进行预览。合同功能的界面如图5-15所示。

图5-15 租客中心的合同列表界面

租客点击详情后，系统会显示用于展示合同的主要信息的模态框。租客同样可以点击按钮查看合同详情。合同详情的界面如图5-16所示。

图5-16 合同详情的模态框界面

当租客想要提前退房，需要在合同的模态框里，点击退房的按钮。因为提前结束合同属于违约的操作，所以系统会提示租客该操作的后果。违约提示框如图5-16所示。

图5-16 租客违约退房的确认框

租客退房（违约）的主要代码如下：

```java
let formdata = {

cId: this.contractInfo.cId,

cContractState: 6

};

tenantsCancelContractApplication(formdata).then(res =\> {

if (res.data.success == true) {

Bus.\$emit("tenantsCancelRCApp");

this.\$message({

type: "warning",

message: "您的请求已经发送给房东，该合同已被冻结!"

});

} else {

this.\$message({

type: "info",

message: "退房申请异常。"

});}});
```



### 5.2.6 我的账单功能

租客查看自己的账单信息时，点击按钮后主栏会展示租客的所有账单信息。租客可以单击“详情”按钮查看账单的所有信息。我的账单界面如图5-17所示。

图5-17 租客账单列表界面

租客点击详情按钮后，系统会显示该条账单的所有信息。“嘤嘤租房网”已对接支付宝支付，如果该账单属于未支付状态的账单，系统会开放支付按钮供租客支付。账单详情的界面如图5-18所示。

图5-18 账单详情的界面

用户使用支付宝付款，发起页面的主要代码如下：

```java
@GetMapping("launchToAlipay")

public String luanchOrderToALiPay(@RequestParam(value = "oId") Integer oId,

@RequestParam(value = "oOrderMoney") Float oOrderMoney,

@RequestParam(value = "info") String info)

>   throws AlipayApiException {

String subject="";

try {

subject =new String(info.getBytes("ISO-8859-1"), "UTF-8");

}catch (UnsupportedEncodingException e){

e.printStackTrace();

}

return orderImpl.alipay( new ALiPayDO()

.setOut_trade_no(oId.toString())

.setTotal_amount(new StringBuffer().append(oOrderMoney))

.setSubject(subject));

}
```



### 5.2.7 我的看房预约功能

当租客想要查看自己预约申请，或者想要查看房东的回复时，需要在“我的看房预约”界面查看，界面如图5-19所示。

图5-19 看房预约列表界面

如果租客发起的看房预约未被房东处理，租客可以取消自己发起的预约；对于已经处理过的预约申请，系统仍然为租客保留查看的功能。界面如图5-20所示。

图5-20 预约详情的界面

## 5.3 房东中心模块

### 5.3.1 房东中心的欢迎页

当房东角色的用户登录成功后，系统会跳转到房东的个人中心页面，等待房东的下一步操作。

### 5.3.2 新增房源功能

房东在实名通过后，可以根据自己的需要发布自己拥有的房源。在表单里，需要房东录入介绍标题、房源图片和租赁价格等租赁房源需要的相关信息。房东填写完点击提交按钮，表单对输入的信息校验通过后，则会把房源的信息上传至系统，等待管理员审核。新增房源信息的界面如图5-22所示。

图5-22 新增房源信息的界面

房东新增房源的主要代码如下：

```java
@PostMapping("addHouseInfo")

public Result insertHouseInfomation(@RequestBody HouseInfomationDO house){

house.sethPostTime((new Date()));

int i = houseimpl.insertHouseInfo(house);

if(i\>0)

return Result.create(true,i);

return Result.create(false,i);

}
```



### 5.3.3 房源列表功能

房东想查看自己房源的信息或者更新自己的房源信息时，房东需要点击房源列表，主栏会显示自己拥有的房源信息的列表。列表界面的布局主要为表格和按钮。列表展示房东的房源信息，按钮为刷新数据按钮，如果数据没有更新至最新，房东可以手动更新。房东的房源列表的界面如图5-23所示。

图5-23房源列表界面

展示属于房东的房源列表的主要代码如下：

```java
@GetMapping("getMastersHouse")

public Result getMasterAllHouse(Integer uid){

List\<HouseInfomationDO\> houselist = houseimpl.getMasterAllHouse(uid);

return Result.create(houselist);

}
```

房东查看某一条房源信息的详情编辑按钮，系统会弹出一个模态框，模态框将会展示该条房源的详细信息。房东可以对这条房源进行信息的维护更新；如果房源处于出租状态，房源信息无法更新，需要等房源租赁结束，状态为空闲时，房东才被允许维护房源信息。房源详情编辑“辅助介绍”步骤的界面如图5-24所示。

图5-24 房源编辑详情的模态框界面

### 5.3.4 看房预约管理功能

租客发起的看房预约都会被归纳到看房预约管理列表里。房东在侧栏单击预约管理按钮时，主栏会显示预约的信息列表。上门看房预约管理的界面如图5-25所示。

图5-25 上门看房预约管理列表的界面

系统会对不同状态的预约，开放相应的操作按钮。看房预约的处理的界面如图5-26所示。

图5-26预约详情的处理模态框界面

### 5.3.5 合同管理功能

租客在网站向自己的房源发起的所有租房申请都会被归纳到房东中心的合同列表里。房东可以对合同进行进一步的处理。如，发起合同、查看合同。合同管理的界面如图5-27所示。

图5-27 房东中心的合同管理列表界面

房东可以对租客发起的申请进行处理。单击“发起合同”按钮后，系统将会显示租客的信息和房源的信息供房东进行二次确认，并提供本次合同的相关数据。房东也可以点击“拒绝发起签约”拒绝该申请。房东发起合同的模态框界面如图5-28所示。

图5-28 房东发起合同的模态框界面

房东发起合同的主要代码如下：

```javascript
MasterUpdateContract(){
masterPutContractInfo(updateformdata).then( res =\> {
if(res.data.success == true){
this.\$message.success("合同创建完成！等待租客阅读并同意签约合同！");
Bus.\$emit("launchNewContract","success")
}else{
this.\$message("合同创建出现了问题");
}
this.isContractFormShow = false;
})
}
```



### 5.3.6 收租功能

房东点击我的收租按钮后，主栏会显示收租的列表。列表会显示已经收租的账单数据。对于未支付的账单，房东可以对其进行处理；对于已支付或者已取消的账单，房东也可以对账单进行再次的查看。房东也可点击“发起收租账单”按钮向租客发起账单。收租管理的界面如图5-29所示。

图5-29 房东的收租管理功能

房东点击“发起收租账单”按钮后，系统会拉出一个收租抽屉界面。该界面把收租的流程分为4步。在第一步时，需要房东选择收租的对象。收租的对象为签约并正在执行期内合同的所有租客；如果某一租客还存在未入账的账单，则无法对该租客进行重复收租。选择收租对象后，系统会读取相关的数据显示在界面上。在后续的步骤里，需要房东填入租客在这一周期使用的电度、水度和选填的额外的调节费用。系统会计算出相应的房租。房东选择收租截止日期、点击提交账单后，系统会将新的抄表信息更新到房源信息数据里，并且会把账单信息发送至租客的手机号上提醒租客及时缴交。收租抽屉界面如图5-30所示。

图5-30 发起收租账单的操作界面

房东发起账单的主要代码如下：

```js
toNextStep() {

if (this.cId == "") {

this.\$message.warning("请先选择收租的对象哦");

return false;

}

if (this.launchBillStep == 3) {

launchOrderInfo(this.billform).then(res =\> {

if (res.data.data \> 0) {

this.launchSMSInfo();//发送短信

this.updateHouseInfomation(); //更新房屋水电信息

} else {

this.\$message("发起账单可能出现了问题，发起失败！");

}

return false;

}

this.isPreBtnDisabled = false;

if (++this.launchBillStep == 3) {

this.btnLaunchName = "发起账单给租客";

//计算账单,(本次抄表-上次抄表)\*单价+其他费用

oOrderMoney = ((oNowElectricNumber - oLastElectricNumber) \* oElectricPrice )+
((oNowWaterNumber -oLastWaterNumber) \* oWaterPrice) + oHouseRentPrice +
this.billform.oAdjustFee;

} else {

this.btnLaunchName = "下一步";

}

},
```

房东除了发起收租外，也可以查看其他向自己入账的账单信息。对于已支付或者已关闭状态的账单，房东可以查看；对于未支付状态的账单，房东可以选择取消这份账单。取消账单并确认取消后，系统会还原之前的水表和电表的读数，并且该账单会拦截，不让租客支付。如果租客以线下其他方式向房东缴租，房东可以选择线下收到房租。其界面如图5-31所示。

图5-31 租客中心的个人信息编辑界面

### 5.3.7 房东中心的实名认证功能

房东在注册完账号进入自己的个人中心后，需要进行实名认证。实名认证的操作流程与租客的操作流程一致。

### 5.3.8 房东中心的个人信息编辑功能

房东可以在此页面修改自己的个人信息和头像。操作流程与租客的个人信息编辑功能一致。

### 5.3.9 房东中心的密码修改功能

房东可以根据需要在此模块修改自己的登录密码。房东修改密码的流程与租客的密码修改流程一致。

## 5.4 管理员模块

管理员从管理员登录页面输入账号，登录成功后会跳转到后台管理中心。

### 5.4.1 用户实名信息审核

网站的用户在自己的个人中心提交的实名信息，都会归纳到管理中心等待管理员审核。显示管理员审核实名信息的界面如图5-32所示。

图5-32 实名审核信息列表界面

管理员可以审核并无限查看某条实名信息。管理员可以点击图片全屏查看证件信息。对于需要审核的信息，模态框会开放处理选项。管理员需要选择结果后提交处理。实名信息审核方算完成审核。展示实名信息详情的界面如图5-33所示。

图5-33 审核实名信息的详情界面

### 5.4.2 房源信息审核

管理员需要审核用户发布的房源信息。通过审核的房源信息才可以在网站前端被用户搜索到。管理员的房源审核列表如图5-34所示。

图5-34 房源审核列表的界面

管理员点击房源详情时，会显示一个写着房源详情信息的模态框。如果是待审核的房源，模态框会开放处理选项供管理员处理。其如图5-35所示。

图5-35 管理员查看房源详情的界面

管理员审核房源信息的主要代码如下：

```java
@PutMapping("adminProcessHouseAuditState")

public Result adminProcessHouseAuditState(@RequestBody HouseInfomationDO
record){

int i = houseimpl.updateHouseInfo(record);

return Result.create(i);

}
```



# 第六章 系统测试

## 6.1 系统用例测试

系统测试主要是功能测试，检测各功能模块是否能够正常运行，系统整体功能是否完善，运行过程是否顺利，界面是否整洁美观。

重置密码测试用例如表6-1所示。

表6-1 修改密码测试用例

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | CS01                                                         |
| 用例名：   | 用户修改密码                                                 |
| 输入信息： | 原密码、新密码、确认新密码                                   |
| 输出信息： | 密码成功修改后，提示用户修改结果                             |
| 过程：     | 1）用户进入自己的个人中心界面，点击修改密码。 2）用户输入原密码一次，输入新密码两次。 3）点击“保存修改”按钮修改密码，成功后提示用户修改结果，并清空输入框。 |

房东用户发起账单用例如表6-2所示。

表6-2 房东发起新账单测试用例

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | CS02                                                         |
| 用例名：   | 房东发起新账单                                               |
| 输入信息： | 输入标题、介绍、房源属性、价格、押付类型、上传图片。         |
| 输出信息： | 上传成功后，提示用户上传结果。                               |
| 过程：     | 1）进入房东中心，点击“发布房源”按钮 2）输入标题、介绍、房源属性、价格、押付类型 3）上传图片 4）点击“保存”按钮，成功后返回上传结果。 |

用户发表文章评论测试用例如表6-3所示。

表6-3 租客评价房东测试用例

| 名称       | 内容                                                         |
| ---------- | ------------------------------------------------------------ |
| 用例编号： | CS03                                                         |
|            | 续表6-3                                                      |
| 用例名：   | 租客评价房东                                                 |
| 输入信息： | 输入评价内容，选择评价分                                     |
| 输出信息： | 评价成功，可以在合同查看评价信息                             |
| 过程：     | 1）合同结束后，点击“合同详情”，再点击“评价TAA”按钮 2）输入评价的内容，选择评价的分数 3）点击“提交评价”按钮，进行评价。 |

## 6.2 测试结果

“嘤嘤租房网”的所有功能的测试结果如下：

（1）前台。前台的用户登录、注册功能、搜索房源、提交申请与预约请求、实名认证、合同管理、预约管理、账单管理、租客、房源与房东评价、房源管理等模块均通过了测试。

（2）网站的管理员登录后台后，可以实现对房源的审核、实名信息的审核。以上模块均通过了测试。

# 总 结

这一次毕业设计，是第三次自己规划并开发一个较为完整的网站。在开发“嘤嘤租房网”网站时，遇到了几个比较关键的问题。首先的是使用的技术。原本在构思课题时只考虑使用SSM框架，并以jsp页面进行内容的呈现；但在网络上搜集资料时，我逐渐发现前后端分离开发更加贴合现在主流的开发方式。在寻找前端时，发现了基于Vue技术的Element
UI框架。此框架简洁干净，也贴合租房这一商业性质网站的风格。综上所述，本课题的网站框架采用Vue与SSM，奠定了网站后续的开发方向。

有句话叫“万事开头难”。在网站的开发初期，没有接触过前后端分离开发的我遇到了瓶颈。比如：Vue里如何做到数据对接、数据没有及时到达页面造成排版异常等等。有些问题的原因单一，也有的问题原因多种多样；我无从下手，不知如何解决。在同学的指导下，我学会通过报错日志与浏览器控制台的报错信息来定位问题，从而寻找解决办法。

在后续的开发过程中，理所当然却也无可奈何地遇到了各式各样的问题。在解决这些问题时，最初只能求助网络，寻找类似问题的先例并在自己项目上逐步进行实践以解决当下的错误。长此以往，我发现，当相似的问题遇到一定量后，大脑内会形成一定的解决思路。这令我在往后遇到问题时能更有效率地去解决，我相信，这些经验在以后的工作实战里有着不小的帮助。

# 参考文献

 - 王飞.论房屋租赁信息系统的设计与实现[J].电脑迷,2017(07):194-195.

2.  罗树立.加入WTO给中国房地产业带来的挑战及应对措施[J].中共成都市委党校学报,2002(6):35\~36.

3.  巴民.国外的住房市场[J].重庆国土资源,2005(5):39\~40.

4.  吴浪,高际家.房屋租赁市场的中美比较分析[J].青年科学,2010(2):197\~198.

5.  沈克明.纽约政府如何补贴穷人住房[J].新财经,2006(8):80\~81.

6.  冯博.中国廉租房制度与日本公营住房政策的比较研究[D].山西财经大学,2010.

7.  刘海洋,陈海.廉租房在国外[J].中州建设,2011(6):74\~75.

8.  隋琛琛.廉租房制度国内外比较与借鉴[J].上海房地,2009,14(7):22\~25.

9.  房屋租售管理系统的设计与实现[J].尹凌.计算机光盘软件与应用.2012(22)

10.  武海龙,李国平.基于SpringBoot的房屋租赁系统设计[J].电脑与信息术,2019,27(03):76-78.

1 - 战松,郎妲妮.长租公寓现存问题分析及解决对策[J].辽宁经济,2019(11):70-71.

12.  Márcio Moraes Valença. Social rental housing in HK and the UK: Neoliberal
     policy divergence or the market in the making?[J]. Habitat
     International,2015,49.

13.  Barton, Barbara. Earning Extra Income With Rent Houses[J]. Ranch and Rural
     Living,2011,92(5).

# 致 谢

本篇论文到了致谢部分，说明在自己的努力和大家的帮助下，我完成了论文的大部分内容。首先，我想感谢我的导师杨财英老师。毕业设计是第一次一个人独立完成一个较为完整的网站，从选题、设计数据库到开发，每一步都需要先慎重思考以避免无效努力。感谢她的指导，我才能更顺利地完成选题方面、逻辑方面等许多环节的任务；也感谢老师的督促，老师的负责也是我能按期完成网站不可少的要素。

接着，我想感谢我周围的同学与老师，感谢他们能在我碰到技术性的问题无法解决时，帮助我一起解决；也感谢我的朋友们能以使用者的角度给我提出使用的感想，让我能修改出目前最贴合生产环境里的操作界面与交互效果。也感谢他们在我碰到瓶颈时，能给我信心。在大学这段时间里，校园的视野让我能更投入地去学习自己的专业知识。感谢老师们这几年的教学，让我打下了一定的基础；在遇到问题时对比以往让我用不同的角度去看待并解决。

再次感谢大家的帮助与教诲。学无止境，今后走出象牙之塔，我仍会保持谦逊的态度，努力学习，提升自己，认真完成每一件事情！