(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~ec53d98c"],{"0eb8":function(t,e,a){},"31ee":function(t,e,a){},6545:function(t,e,a){},"74f5":function(t,e,a){"use strict";a("31ee")},8281:function(t,e,i){"use strict";i.r(e);var a=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{attrs:{id:"pbc"}},[n("c-router-info-with-tree",{attrs:{parentRoutePath:"checkSummary",isLoading:a.isLoading}},[n("div",{attrs:{slot:"routerContent"},slot:"routerContent"},[n("h2",[a._v("校验信息")]),n("div",{staticClass:"card-box"},[a.cardBoxData?a._l(a.cardBoxData,function(t,e){return n("div",{key:"pbc_"+e,staticClass:"card"},[n("div",{staticClass:"flex-box"},[n("h3",{attrs:{id:"title"}},[n("router-link",{attrs:{to:{path:""+t.path}}},[a._v(" "+a._s(t.meta.title)+" ")])],1)]),n("div",{staticClass:"flex-box"},[n("div",[n("img",{staticStyle:{width:"70px",height:"50px"},attrs:{src:i("bcb2")}})])])])}):[n("a-empty",{attrs:{description:"当前暂无内容"}})]],2)])])],1)},n=[],r=(i("d3b7"),i("ac1f"),i("5319"),i("7db0"),i("b0c0"),{data:function(){return{cardBoxData:[],isLoading:!0}},components:{},mounted:function(){var a=this;this.cardBoxData=[];var e=this;setTimeout(function(){new Promise(function(t){var e=a.routes[0].children;t(e)}).then(function(t){e.cardBoxData=t,e.isLoading=!1})},1e3)},computed:{routes:function(){var t={children:this.$router.options.routes[2].children},e=this.$route.path.replace("/",""),a=-1==e.indexOf("/")?e.length:e.indexOf("/");return e=e.substring(0,a),t=t.children.find(function(t){return t.name==e}),[t]}},methods:{openRefsModel:function(t){this.$refs[t].isModalVisible=!0},getData:function(){var e=this;setTimeout(function(){var t=e.routes[0].children;return t},500)}}}),s=r,o=(i("a64f"),i("2877")),l=Object(o["a"])(s,a,n,!1,null,"34d77d48",null);e["default"]=l.exports},"97ef":function(t,e,a){"use strict";a("0eb8")},a47b:function(t,e,i){"use strict";i.r(e);var a=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{attrs:{id:"pbc"}},[n("div",{staticClass:"card-box"},[a.cardBoxData.length<1?[n("a-empty",{staticStyle:{margin:"auto auto",height:"100vh"},attrs:{description:"该部分暂无子项信息"}})]:a._l(a.cardBoxData,function(t,e){return n("div",{key:"pbclist_"+e,staticClass:"card"},[n("div",{staticClass:"flex-box"},[n("h3",{attrs:{id:"title"}},[n("router-link",{attrs:{to:{path:""+t.path}}},[a._v(" "+a._s(t.meta.title)+" ")])],1)]),n("div",{staticClass:"flex-box"},[n("div",[n("img",{staticStyle:{width:"70px",height:"50px"},attrs:{src:i("bcb2")}})])])])})],2)])},n=[],r=(i("7db0"),i("b0c0"),{data:function(){return{cardBoxData:[],pageTitle:""}},components:{},mounted:function(){this.cardBoxData=this.getData()},computed:{routes:function(){for(var t={children:this.$router.options.routes},e=this.$route.matched,a=0;a<e.length-1;a++)t=t.children.find(function(t){return t.name==e[a].name});return t}},methods:{getData:function(){for(var t in this.routes.children)if(this.routes.children[t].path===this.$route.path)return this.$route.meta.title=this.routes.children[t].meta.title,this.routes.children[t].children?this.routes.children[t].children:[];return[]}}}),s=r,o=(i("f86e"),i("2877")),l=Object(o["a"])(s,a,n,!1,null,"49ea5118",null);e["default"]=l.exports},a64f:function(t,e,a){"use strict";a("6545")},c942:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"white-back-box",attrs:{id:"newCustomerRisk"}},[a("h2",[t._v(t._s(t.pageTitle))]),a("a-tabs",{attrs:{"default-active-key":"1"}},[a("a-tab-pane",{attrs:{tab:"确定性校验"}}),a("a-tab-pane",{attrs:{tab:"行内提示性校验"}}),a("a-tab-pane",{attrs:{tab:"行内一致性校验"}})],1),a("c-query-form-table",{attrs:{tableColumns:t.tableColumns,tableData:t.tableData,searchParams:t.searchParams,needTableCheckList:!0,needActionBox:!1,selectTableKeys:t.selectTableKeys,qftHandleQuery:t.qftHandleQuery},on:{selectTableKeysChangeFromQFT:t.selectTableKeysChangeFromQFT}},[a("div",{attrs:{slot:"functionBtnBox"},slot:"functionBtnBox"},[a("div",{attrs:{id:"btn-box"}},[a("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"check"}},[t._v("校验")]),a("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"check"}},[t._v("修改")]),a("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"unlock"}},[t._v("校验下发")]),a("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"export"}},[t._v("校验回收")]),a("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"import"}},[t._v("批量导入报表")]),a("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"fund"},on:{click:t.openExportStasticModal}},[t._v("导出")]),a("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"import"}},[t._v("导入")])],1)])])],1)},i=[],r=(a("b0c0"),{data:function(){return{pageTitle:"",tableColumns:[{title:"档期",dataIndex:"dangqi",key:"dangqi"},{title:"批次号",dataIndex:"rid",key:"rid"},{title:"报表编号",dataIndex:"rindex",key:"rindex"},{title:"报表名称",dataIndex:"rname",key:"rname"},{title:"机构号",dataIndex:"rorg",key:"rorg"},{title:"校验编号",dataIndex:"rvid",key:"rvid"},{title:"校验名称",dataIndex:"rvname",key:"rvname"},{title:"校验结果",dataIndex:"rvres",key:"rvres"},{title:"待扩字段1",dataIndex:"e1",key:"e1"},{title:"待扩字段2",dataIndex:"e2",key:"e2"}],tableData:{},searchParams:[{name:"index",label:"批次号",type:"input"},{name:"rid",label:"报表编号",type:"input"},{name:"rname",label:"报表名称",type:"input"},{name:"rrname",label:"校验规则名称",type:"select",selectList:[{key:"0",value:"规则A"},{key:"1",value:"规则B"},{key:"2",value:"规则C"}]},{name:"rorg",label:"机构",type:"select",selectList:[{key:"0",value:"总行"},{key:"1",value:"分行"},{key:"2",value:"支行"}]},{name:"rstate",label:"校验结果",type:"select",selectList:[{key:"0",value:"数据未生成"},{key:"1",value:"数据已生成未效验"},{key:"2",value:"效验未通过"},{key:"3",value:"效验通过未提交"}]}],selectTableKeys:[],noticeList:[]}},computed:{routes:function(){for(var t={children:this.$router.options.routes[2].children},e=this.$route.matched,a=0;a<e.length-1;a++)if(void 0!=e[a].name)for(var n in t.children){var i=t.children[n];if(i.name===e[a].name){t=i;break}}return t}},mounted:function(){this.getPageTitle(),this.getTableData(),this.getNotiData()},watch:{"$route.path":function(t){}},methods:{getNotiData:function(){var t=this;setTimeout(function(){t.noticeList=["厦门银行厦门市故宫路支行的报表已提交，请你尽快审核！ ","The statement of Xiamen Bank xiamen City Palace Road sub-branch has been submitted, please review as soon as possible!","中国专家召集制定的首项ISO可持续金融国际标准正式发布","人民银行鹰潭市中支召开“学党史、践初心、优服务、办实事”涉外企业LEI编码宣讲会","人民银行宜丰县支行多措并举推动辖内LEI赋码工作稳步进行","人民银行拉萨中支开展全球法人识别编码推广宣传活动","人民银行金昌市中支召开全球法人识别编码（LEI）应用推进工作会议"]},2e3)},getTableData:function(){var t=this,e={id:999,rname:"xxx"};e="v1"==this.$route.params.dtName?[{id:1241,rid:"NCRS1",rname:"报表AA",rorg:"故宫路支行",rdate:"2021-06-30",rfre:"日",rstate:1,rpnode:1,children:[{id:1324,rid:"NCRS1-1",rname:"报表AA",rorg:"故宫路支行",rdate:"2021-06-30",rfre:"日",rstate:1,rpnode:2}]}]:[{id:34,rid:"NCRS3",rname:"报表AA",rorg:"思北支行",rdate:"2021-06-30",rfre:"日",rstate:1,rpnode:1,children:[{id:87,rid:"NCRS3-1",rname:"报表AA",rorg:"思北支行",rdate:"2021-06-30",rfre:"日",rstate:1,rpnode:2}]}],this.$nextTick(function(){t.tableData={content:e,pageSize:1,pageNum:1,totalPages:1,totalSize:3}})},getPageTitle:function(){for(var t in this.routes.children){var e=this.routes.children[t];if(e.children){var a=e.children;for(var n in a)if(a[n].path===this.$route.path)return void(this.pageTitle=a[n].meta.title)}}},selectTableKeysChangeFromQFT:function(t){this.selectTableKeys=t},openAuditModal:function(){this.$refs.ModalReportAudit.openModal()},openExportStasticModal:function(){this.$refs.ModalExportStastic.open()},jointCustomRoute:function(t){var e=this.$route.matched,a=[];for(var n in e)a.push({meta:{title:e[n]["meta"]["title"]},path:e[n].path});return a.push({meta:{title:t},path:"/cbrcReport/newCustomerRisk/detail"}),a},openReportDetail:function(){var t="对公及同业客户授信和表内业务统计表",e=this.jointCustomRoute(t),a=this.$router.resolve({name:"cbrsReportDetail"});localStorage.setItem("openCbrsRD",JSON.stringify(e)),window.open(a.href,"_blank")},qftHandleQuery:function(){this.$message.info("触发了父组件的查询功能！！！！")}}}),s=r,o=(a("74f5"),a("2877")),l=Object(o["a"])(s,n,i,!1,null,"6ae5bdc4",null);e["default"]=l.exports},d1b5:function(t,e,a){"use strict";a("d6a8")},d2eb:function(t,e,i){"use strict";i.r(e);var a=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{attrs:{id:"pbcas"}},[n("c-router-info-with-tree",{attrs:{parentRoutePath:"checkSummary",pageRoutes:a.pageRoutesList,pageRoutePathList:a.pageRouteMatched}},[n("div",{attrs:{slot:"routerContent"},slot:"routerContent"},[n("div",{staticClass:"card-box"},a._l(a.cardBoxData,function(t,e){return n("div",{key:"pbc_"+e,staticClass:"card"},[n("div",{staticClass:"flex-box"},[n("h3",{attrs:{id:"title"}},[n("router-link",{attrs:{to:{path:t.path}}},[a._v(" "+a._s(t.meta.title)+" ")])],1)]),n("div",{staticClass:"flex-box"},[n("div",[n("img",{staticStyle:{width:"70px",height:"50px"},attrs:{src:i("bcb2")}})])])])}),0)])])],1)},n=[],r=i("ed08"),s={data:function(){return{isLoading:!0,cardBoxData:[],pageRoutesList:this.$router.options.routes[2].children,pageRouteMatched:this.$route.matched}},components:{},mounted:function(){this.cardBoxData=this.getData()},methods:{openRefsModel:function(t){this.$refs[t].isModalVisible=!0},getData:function(){return Object(r["i"])(this.pageRoutesList,this.pageRouteMatched,null)[0].children}}},o=s,l=(i("97ef"),i("2877")),c=Object(l["a"])(o,a,n,!1,null,"05fef575",null);e["default"]=c.exports},d6a8:function(t,e,a){},e108:function(t,e,a){"use strict";a.r(e);var n,i=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"menu-config white-back-box",attrs:{id:"menuConfig"}},[n("c-tree-with-self",{attrs:{treeData:a.treeData,selectedKeys:a.selectedKeys,treeMenuList:a.treeMenuList},on:{rightClickMenuItem:a.rightClickMenuItem,onTreeSelect:a.onTreeSelect}},[n("div",{staticStyle:{width:"100%"},attrs:{slot:"selfContent"},slot:"selfContent"},[n("c-query-form-table",{attrs:{tableEmptyText:a.tableEmptyText,searchParams:a.par,tableData:a.tableData,tableColumns:a.tableColumns,needTableCheckList:!0,selectTableKeys:a.selectTableKeys,loadingFlag:a.loadingFlag},on:{selectTableKeysChangeFromQFT:a.selectTableKeysChangeFromQFT,reloadData:a.reloadData,formQuery:a.formQuery,dbClick:a.dbClick},scopedSlots:a._u([{key:"status",fn:function(t){return[n("span",{class:0==t.data.status?"text-green":"textRed"},[a._v("● "+a._s(0==t.data.status?"正常":"禁用"))])]}},{key:"tableActionBox",fn:function(e){return[n("a-button",{staticClass:"margin-btn",attrs:{type:"link",icon:"plus"},on:{click:function(t){return a.handleOpenUserReportAccredit(!0,e.data)}}},[a._v("授 权")])]}}])},[n("template",{staticClass:"btn-box",slot:"functionBtnBox"},[n("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"plus",disabled:1!==a.selectTableKeys.length},on:{click:function(t){return a.handleOpenUserReportAccredit(!1,a.selectTableKeys[0])}}},[a._v("授 权")])],1)],2)],1)]),n("module-detail-modal",{ref:"moduleDetailModal"}),n("ModalVersionManage",{ref:"ModalVersionManage"}),n("ReportPermissionAccredit",{ref:"ReportPermissionAccredit"})],1)},r=[],s=a("ade3"),o=(a("7db0"),a("d3b7"),a("25f0"),a("ed7f")),l=a("88a3"),c=a("ae67"),d=a("88df"),u=a("ed08"),h=a("f5ef"),m={data:function(){return{tableEmptyText:"",par:[{name:"sid",label:"编号",type:"input"},{name:"moduleCode",label:"模块编号",type:"input"},{name:"moduleName",label:"模块名称",type:"input"},{name:"projectSid",label:"项目SID",type:"input"},{name:"menuSid",label:"菜单SID",type:"input"},{name:"status",label:"模块状态",type:"input"},{name:"creatorSid",label:"创建者编号",type:"input"},{name:"createTime",label:"创建时间",type:"datetime"},{name:"editorSid",label:"修改者编号",type:"input"},{name:"updateTime",label:"修改时间",type:"datetime"},{name:"remark",label:"备注",type:"input"}],tableData:{pageSize:10,pageNum:1,totalPages:1,totalSize:1,content:[]},loadingFlag:!1,treeData:[],defaultExpandedKeys:[],selectedKeys:[],selectTableKeys:[],tableColumns:[{dataIndex:"userType",key:"userType",title:"用户类型",hasSlot:!0},{dataIndex:"userCode",key:"userCode",title:"用户编号"},{dataIndex:"userName",key:"userName",title:"用户名称"},{dataIndex:"nickName",key:"nickName",title:"用户昵称"},{dataIndex:"email",key:"email",title:"用户电子邮箱"},{dataIndex:"phone",key:"phone",title:"电话号码"},{dataIndex:"tel",key:"tel",title:"手机号码"},{dataIndex:"sex",key:"sex",title:"用户性别",hasSlot:!0},{dataIndex:"remark",key:"remark",title:"备注"}],treeMenuList:[{menuKey:"insert",menuName:"新增",icon:"plus"},{menuKey:"edit",menuName:"修改",icon:"edit"},{menuKey:"delete",menuName:"删除",icon:"delete"}]}},mounted:function(){var t=this,e=this.tableData,a=e.pageNum,n=e.pageSize;this.handleLoadData({pageNum:a,pageSize:n},{delFlag:"0"}),h["a"].$on("reloadData",function(){t.reloadData({},{delFlag:"0"})})},methods:(n={handleOpenUserReportAccredit:function(t,e){if(!t){var a=e;e=this.tableData.content.find(function(t){return a===t.sid})}this.$refs.ReportPermissionAccredit.open(e)},rightClickMenuItem:function(t,e){switch(e){case"insert":this.handleAdd(t);break;case"edit":this.handleEdit(t);break;case"delete":this.handleDelete([t]);break}},loadTreeData:function(){var e=this,t="all",a=null;getMenuTree(t,a).then(function(t){e.treeData=t.data})},onTreeSelect:function(t,e){this.formQuery({sid:t[0]})},handleOpenVersionManage:function(e){var t=this.tableData.content.find(function(t){return t.sid===e});this.$refs.ModalVersionManage.open(t)}},Object(s["a"])(n,"rightClickMenuItem",function(t,e){switch(e){case"insert":this.handleAdd(t);break;case"edit":this.handleEdit(t);break;case"delete":this.handleDelete([t]);break}}),Object(s["a"])(n,"onTreeSelect",function(t,e){this.formQuery({sid:t[0]})}),Object(s["a"])(n,"loadTreeData",function(){var e=this,t="all",a=null;getMenuTree(t,a).then(function(t){e.treeData=t.data})}),Object(s["a"])(n,"handleLoadData",function(t,e){var a=this;this.selectTableKeys=[],"{}"===JSON.stringify(t)&&(t.pageNum=this.tableData.pageNum,t.pageSize=this.tableData.pageSize),this.loadingFlag=!0,Object(d["c"])(t.pageNum,t.pageSize,e).then(function(t){a.$nextTick(function(){a.tableData.content=t.rows,a.tableData.totalSize=t.total,a.tableData.totalPages=Math.ceil(a.tableData.totalSize/a.tableData.pageSize)})}).catch(function(t){var e="表格数据获取失败，".concat(t.message);a.$message.error(e),a.tableEmptyText=e}).finally(function(){setTimeout(function(){a.loadingFlag=!1},500)})}),Object(s["a"])(n,"handleDelete",function(e){this.$createElement;var t=this;this.$confirm({title:"删除数据确认",content:function(t){return t("p",["即将以",t("span",{class:"textRed"},["物理方式删除",e.length,"项数据"]),"，是否继续操作？"])},okType:"danger",closable:!0,onOk:function(){t.confirmOkToDelete(e)}})}),Object(s["a"])(n,"confirmOkToDelete",function(e){var a=this,n=this;deleteModuleDef({id:e.toString(),countNum:e.length}).then(function(t){if(!Object(u["l"])(t))throw new Error(t.msg);n.reloadData({}),n.selectedKeys=[],n.$message.success("已删除".concat(e.length,"项数据"))}).catch(function(t){a.$message.error("请求错误："+t.message)})}),Object(s["a"])(n,"reloadData",function(t){if("{}"!==JSON.stringify(t)){var e=t.pageNum,a=t.pageSize;this.tableData.pageNum=e,this.tableData.pageSize=a}this.handleLoadData({},null)}),Object(s["a"])(n,"formQuery",function(t){this.handleLoadData({},t)}),Object(s["a"])(n,"dbClick",function(t){this.handleEdit(t.sid)}),Object(s["a"])(n,"handleAdd",function(t){var e={mode:"insert"};e["sid"]=""!==(null!==t&&void 0!==t?t:"")?t:null,this.$refs.moduleDetailModal.open(e)}),Object(s["a"])(n,"handleEdit",function(t){this.$refs.moduleDetailModal.open({mode:"edit",sid:t})}),Object(s["a"])(n,"selectTableKeysChangeFromQFT",function(t){this.selectTableKeys=t}),n),components:{moduleDetailModal:c["default"],ModalVersionManage:l["default"],ReportPermissionAccredit:o["default"]}},f=m,p=(a("d1b5"),a("2877")),b=Object(p["a"])(f,i,r,!1,null,"6225f490",null);e["default"]=b.exports},ec75:function(t,e,a){},f86e:function(t,e,a){"use strict";a("ec75")}}]);