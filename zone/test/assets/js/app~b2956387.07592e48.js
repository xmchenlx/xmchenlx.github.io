(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~b2956387"],{"208d":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("c-resizable-modal",{ref:"crm",attrs:{modalWidth:"75%",title:"导入表"}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("c-query-form-table",{attrs:{searchParams:e.par,tableData:e.tableData,tableColumns:e.tableColumns,needTableCheckList:!0,needActionBox:!1,selectTableKeys:e.selectTableKeys,loadingFlag:e.loadingFlag,dataKeyName:"tableName"},on:{selectTableKeysChangeFromQFT:e.selectTableKeysChangeFromQFT,formQuery:e.formQuery,dbClick:e.dbClick,reloadData:e.reloadData}})],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("a-button",{staticClass:"margin-btn",attrs:{type:"info",icon:"close"},on:{click:e.handleCancel}},[e._v("取 消")]),t("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:importTableSave"],expression:"['sys:gen:importTableSave']"}],staticClass:"margin-btn",attrs:{type:"primary",icon:"check",loading:e.saveLoading},on:{click:e.handleSave}},[e._v(" 导 入 ")])],1)])],1)},i=[],s=(t("d3b7"),t("25f0"),t("99af"),t("f058")),o=t("f5ef"),r={data:function(){return{tableData:{pageSize:10,pageNum:1,totalPages:1,totalSize:1,content:[]},tableColumns:[{title:"表名称",key:"tableName",dataIndex:"tableName"},{title:"表描述",key:"tableComment",dataIndex:"tableComment"},{title:"创建时间",key:"createTime",dataIndex:"createTime"},{title:"更新时间",key:"updateTime",dataIndex:"updateTime"}],par:[{name:"tableName",label:"表名称",type:"input"},{name:"tableComment",label:"表描述",type:"input"}],selectTableKeys:[],loadingFlag:!1,saveLoading:!1}},mounted:function(){var e=this.tableData,a=e.pageNum,t=e.pageSize,n=this;this.loadDBData({pageNum:a,pageSize:t},null),o["a"].$on("reloadData",function(){n.reloadData({},{})})},methods:{getDefaultValue:function(){return{sid:"",userType:"",userCode:"",userName:"",nickName:"",password:"",email:"",phone:"",tel:"",sex:"0",avatarUrl:"",builtIn:"0",status:"0",delFlag:"0",pwdExpirationDATE:"",pwdERRORfrequency:"",useLockedDate:"",creatorSid:"",createTime:"",editorSid:"",updateTime:"",remark:""}},loadDBData:function(e,a){var t=this;"{}"===JSON.stringify(e)&&(e.pageNum=this.tableData.pageNum,e.pageSize=this.tableData.pageSize),Object(s["e"])(e.pageNum,e.pageSize,a).then(function(e){t.tableData.content=e.rows,t.tableData.content=e.rows,t.tableData.totalSize=e.total,t.tableData.totalPages=Math.ceil(t.tableData.totalSize/t.tableData.pageSize)}).finally(function(){})},open:function(){this.$refs.crm.open()},handleSave:function(){var a=this;this.saveLoading=!0,Object(s["h"])(this.selectTableKeys.toString()).then(function(e){if(200!==e.code||!0!==e.status)throw new Error("请求异常：".concat(e.msg,"。状态码为").concat(e.code,"，状态为").concat(e.status,"。"));a.$message.success("导入请求成功"),o["a"].$emit("reloadData",null),a.$refs.crm.close()}).catch(function(e){a.$message.error(e.message)}).finally(function(){a.saveLoading=!1})},handleCancel:function(){var e=this;this.$confirm({title:"表单存在内容",content:"表单上已有输入的信息，关闭后信息会清空，确认关闭吗？",onOk:function(){e.$message.info("触发关闭事件"),e.$refs.crm.close()},onCancel:function(){}})},selectTableKeysChangeFromQFT:function(e){this.selectTableKeys=e},formQuery:function(e){this.loadDBData({},e)},dbClick:function(){},reloadData:function(e){if("{}"!==JSON.stringify(e)){var a=e.pageNum,t=e.pageSize;this.tableData.pageNum=a,this.tableData.pageSize=t}this.loadDBData({},null)}}},l=r,d=t("2877"),c=Object(d["a"])(l,n,i,!1,null,null,null);a["default"]=c.exports},"2a08":function(e,a,t){},"3e57":function(e,a,t){"use strict";t.r(a);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("c-resizable-modal",{ref:"crm",attrs:{modalWidth:"90%",title:"修改生成配置"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("a-spin",{attrs:{spinning:t.spin}},[n("a-tabs",{attrs:{size:"small"}},[n("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[n("a-form-model",{ref:"addForm",attrs:{model:t.addForm,labelCol:{span:6},wrapperCol:{span:18},rules:t.addFormRule}},[n("a-row",{attrs:{gutter:15}},[n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"表名称",prop:"tableName"}},[n("a-input",{model:{value:t.addForm.tableName,callback:function(e){t.$set(t.addForm,"tableName",e)},expression:"addForm.tableName"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"表描述",prop:"tableComment"}},[n("a-input",{model:{value:t.addForm.tableComment,callback:function(e){t.$set(t.addForm,"tableComment",e)},expression:"addForm.tableComment"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"实体类名称",prop:"className"}},[n("a-input",{model:{value:t.addForm.className,callback:function(e){t.$set(t.addForm,"className",e)},expression:"addForm.className"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"作者",prop:"functionAuthor"}},[n("a-input",{model:{value:t.addForm.functionAuthor,callback:function(e){t.$set(t.addForm,"functionAuthor",e)},expression:"addForm.functionAuthor"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"关联子表表名"}},[n("a-input",{model:{value:t.addForm.subTableName,callback:function(e){t.$set(t.addForm,"subTableName",e)},expression:"addForm.subTableName"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"子表关联外键名"}},[n("a-input",{model:{value:t.addForm.subTableFkName,callback:function(e){t.$set(t.addForm,"subTableFkName",e)},expression:"addForm.subTableFkName"}})],1)],1),n("a-col",{attrs:{span:24}},[n("a-form-model-item",{attrs:{label:"备注",labelCol:{span:3},wrapperCol:{span:21}}},[n("a-input",{attrs:{type:"textarea"},model:{value:t.addForm.remark,callback:function(e){t.$set(t.addForm,"remark",e)},expression:"addForm.remark"}})],1)],1)],1)],1)],1),n("a-tab-pane",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:columnList"],expression:"['sys:gen:columnList']"}],key:"2",attrs:{tab:"字段信息"}},[n("c-muti-func-table",{attrs:{tableData:t.tableData,tableColumns:t.tableColumns,needCheckList:!1,needPagination:!1,loadingFlag:t.spin,needFixHead:!0,needActionBox:!1},on:{reloadData:t.reloadData},scopedSlots:t._u([{key:"isPk",fn:function(a){return[n("a-checkbox",{attrs:{checked:"1"===a.isPk},on:{change:function(e){return t.onCheckedChange("isPk",a)}}})]}},{key:"isIncrement",fn:function(a){return[n("a-checkbox",{attrs:{checked:"1"===a.isIncrement},on:{change:function(e){return t.onCheckedChange("isIncrement",a)}}})]}},{key:"isRequired",fn:function(a){return[n("a-checkbox",{attrs:{checked:"1"===a.isRequired},on:{change:function(e){return t.onCheckedChange("isRequired",a)}}})]}},{key:"isInsert",fn:function(a){return[n("a-checkbox",{attrs:{checked:"1"===a.isInsert},on:{change:function(e){return t.onCheckedChange("isInsert",a)}}})]}},{key:"isList",fn:function(a){return[n("a-checkbox",{attrs:{checked:"1"===a.isList},on:{change:function(e){return t.onCheckedChange("isList",a)}}})]}},{key:"isEdit",fn:function(a){return[n("a-checkbox",{attrs:{checked:"1"===a.isEdit},on:{change:function(e){return t.onCheckedChange("isEdit",a)}}})]}},{key:"isQuery",fn:function(a){return[n("a-checkbox",{attrs:{checked:"1"===a.isQuery},on:{change:function(e){return t.onCheckedChange("isQuery",a)}}})]}},{key:"queryType",fn:function(a){return n("div",{},[n("a-select",{staticClass:"select-box",attrs:{name:"queryType","default-value":a.queryType,placeholder:"请选择"},on:{change:function(e){return t.onSelectChange(e,"queryType",a.sid)}}},t._l(t.querySet,function(e,a){return n("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)}}])})],1),n("a-tab-pane",{key:"3",attrs:{tab:"生成信息"}},[n("a-form-model",{ref:"addForm2",attrs:{model:t.addForm,labelCol:{span:6},wrapperCol:{span:18},rules:t.addFormRule}},[n("a-row",[n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"生成代码方式"}},[n("a-radio-group",{attrs:{"default-value":"0"},model:{value:t.addForm.genType,callback:function(e){t.$set(t.addForm,"genType",e)},expression:"addForm.genType"}},[n("a-radio",{attrs:{value:"0"}},[t._v(" zip压缩包 ")]),n("a-radio",{attrs:{value:"1"}},[t._v(" 自定义路径 ")])],1)],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"使用模板",prop:"tplCategory"}},[n("a-select",{staticStyle:{width:"100%"},model:{value:t.addForm.tplCategory,callback:function(e){t.$set(t.addForm,"tplCategory",e)},expression:"addForm.tplCategory"}},[n("a-select-option",{attrs:{value:"CURD"}},[t._v(" 单表操作 ")]),n("a-select-option",{attrs:{value:"TREE"}},[t._v(" 树表操作 ")])],1)],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"生成包路径",prop:"packageName "}},[n("a-input",{model:{value:t.addForm.packageName,callback:function(e){t.$set(t.addForm,"packageName",e)},expression:"addForm.packageName "}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"生成路径",prop:"genPath "}},[n("a-input",{model:{value:t.addForm.genPath,callback:function(e){t.$set(t.addForm,"genPath",e)},expression:"addForm.genPath "}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"生成模块名",prop:"moduleName"}},[n("a-input",{model:{value:t.addForm.moduleName,callback:function(e){t.$set(t.addForm,"moduleName",e)},expression:"addForm.moduleName"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"生成业务名",prop:"businessName"}},[n("a-input",{model:{value:t.addForm.businessName,callback:function(e){t.$set(t.addForm,"businessName",e)},expression:"addForm.businessName"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"生成功能名"}},[n("a-input",{model:{value:t.addForm.functionName,callback:function(e){t.$set(t.addForm,"functionName",e)},expression:"addForm.functionName"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"其它生成选项"}},[n("a-input",{model:{value:t.addForm.options,callback:function(e){t.$set(t.addForm,"options",e)},expression:"addForm.options"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"创建者编号",prop:"creatorSid"}},[n("a-input",{attrs:{disabled:""},model:{value:t.addForm.creatorSid,callback:function(e){t.$set(t.addForm,"creatorSid",e)},expression:"addForm.creatorSid"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"创建时间",prop:"createTime"}},[n("a-date-picker",{staticStyle:{width:"100%"},attrs:{showTime:{format:"HH:mm:ss"},allowClear:"",valueFormat:"YYYY-MM-DD HH:mm:ss",disabled:""},model:{value:t.addForm.createTime,callback:function(e){t.$set(t.addForm,"createTime",e)},expression:"addForm.createTime"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"修改者编号",prop:"editorSid"}},[n("a-input",{attrs:{disabled:""},model:{value:t.addForm.editorSid,callback:function(e){t.$set(t.addForm,"editorSid",e)},expression:"addForm.editorSid"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"修改时间",prop:"updateTime"}},[n("a-date-picker",{staticStyle:{width:"100%"},attrs:{showTime:{format:"HH:mm:ss"},valueFormat:"YYYY-MM-DD HH:mm:ss",disabled:""},model:{value:t.addForm.updateTime,callback:function(e){t.$set(t.addForm,"updateTime",e)},expression:"addForm.updateTime"}})],1)],1)],1)],1)],1)],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("a-button",{staticClass:"margin-btn",attrs:{type:"info",icon:"close"},on:{click:t.handleCancel}},[t._v("取 消")]),n("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"check",loading:t.saveLoading},on:{click:t.handleSave}},[t._v(" "+t._s("insert"==t.mode?"保存":"提交修改")+" ")])],1)])],1)},i=[],s=(t("c740"),t("d3b7"),t("f058")),o=t("ed08"),r=(t("f5ef"),{data:function(){return{mode:"insert",spin:!1,querySet:[{label:"=",value:"EQ"},{label:"!=",value:"NE"},{label:"＞",value:"GT"},{label:"＞=",value:"GTE"},{label:"＜",value:"LT"},{label:"＜=",value:"LTE"},{label:"like",value:"LIKE"},{label:"between",value:"BETWEEN"}],tableColumns:[{key:"sid",dataIndex:"sid",title:"编号"},{key:"tableSid",dataIndex:"tableSid",title:"归属表编号"},{key:"columnName",dataIndex:"columnName",title:"列名称"},{key:"columnComment",dataIndex:"columnComment",title:"列描述"},{key:"columnType",dataIndex:"columnType",title:"列类型"},{key:"javaType",dataIndex:"javaType",title:"JAVA类型"},{key:"javaField",dataIndex:"javaField",title:"JAVA字段名"},{key:"isPk",dataIndex:"isPk",title:"是否主键",hasSlot:!0},{key:"isIncrement",dataIndex:"isIncrement",title:"是否自增",hasSlot:!0},{key:"isRequired",dataIndex:"isRequired",title:"是否必填",hasSlot:!0},{key:"isInsert",dataIndex:"isInsert",title:"是否为插入字段",hasSlot:!0},{key:"isEdit",dataIndex:"isEdit",title:"是否编辑字段",hasSlot:!0},{key:"isList",dataIndex:"isList",title:"是否列表字段",hasSlot:!0},{key:"isQuery",dataIndex:"isQuery",title:"是否查询字段",hasSlot:!0},{key:"queryType",dataIndex:"queryType",title:"查询方式",hasSlot:!0},{key:"htmlType",dataIndex:"htmlType",title:"显示类型"},{key:"dictType",dataIndex:"dictType",title:"字典类型"},{key:"sort",dataIndex:"sort",title:"排序"},{key:"creatorSid",dataIndex:"creatorSid",title:"创建者编号"},{key:"createTime",dataIndex:"createTime",title:"创建时间"},{key:"editorSid",dataIndex:"editorSid",title:"修改者编号"},{key:"updateTime",dataIndex:"updateTime",title:"修改时间"}],loadingFlag:!1,tableData:{pageSize:10,pageNum:1,totalPages:1,totalSize:1,content:[{sid:"1",tableSid:"1",columnName:"1",columnComment:"1",columnType:"1",javaType:"1",javaField:"1",isPk:"1",isIncrement:"1",isRequired:"1",isInsert:"1",isEdit:"1",isList:"1",isQuery:"1",queryType:"EQ",htmlType:"1",dictType:"1",sort:"1",creatorSid:"1",createTime:"1",editorSid:"1",updateTime:"1"}]},saveLoading:!1,addForm:{sid:"",tableSid:"",columnName:"",columnComment:"",columnType:"",javaType:"",javaField:"",isPk:"",isIncrement:"",isRequired:"",isInsert:"",isEdit:"",isList:"",isQuery:"",queryType:"",htmlType:"",dictType:"",sort:"",creatorSid:"",createTime:"",editorSid:"",updateTime:""},addFormRule:{tableName:[{required:!0,message:"表名称不允许为空",trigger:"blur",type:"string"}],className:[{required:!0,message:"实体类名称不允许为空",trigger:"blur"}],tplCategory:[{required:!0,message:"必须给定一个使用模板",trigger:"blur"}],genType:[{required:!0,message:"必须给定一个生成代码的方式",trigger:"blur"}]},cgsInfo:{}}},methods:{getDefaultValue:function(){return{sid:"",tableSid:"",columnName:"",columnComment:"",columnType:"",javaType:"",javaField:"",isPk:"",isIncrement:"",isRequired:"",isInsert:"",isEdit:"",isList:"",isQuery:"",queryType:"",htmlType:"",dictType:"",sort:"",creatorSid:"",createTime:"",editorSid:"",updateTime:""}},open:function(e){this.addForm=this.getDefaultValue(),this.mode=e.mode,this.cgsInfo=e,this.$refs.crm.open(),"edit"==this.mode&&(this.spin=!0,this.getTableDataBySid(e.sid)),this.isModalVisible=!0},tableDataChangeValue:function(){},onSelectChange:function(e,a,t){var n=this.tableData.content.findIndex(function(e){return e.sid===t});this.tableData.content[n][a]=e},onCheckedChange:function(e,a){var t=this.tableData.content,n=t.findIndex(function(e){return e.sid===a.sid}),i="1"===this.tableData.content[n][e]?"0":"1";this.tableData.content[n][e]=i},convertColumnsInfo:function(e){var a=[];for(var t in e)a.push({dataIndex:e[t].columnName,key:e[t].columnName,title:e[t].columnComment});return a},reloadData:function(){this.getTableDataBySid(this.cgsInfo.sid)},getTableDataBySid:function(e){var a=this;this.spin=!0,Object(s["f"])(e).then(function(e){if(!Object(o["l"])(e))throw new Error(e.msg);a.addForm=e.data.info,a.tableData={content:e.data.info.columns,totalSize:e.data.info.columns.length}}).catch(function(e){a.$message.error(e.message)}).finally(function(){a.spin=!1})},handleSave:function(){var a=this;this.addForm.columns=this.tableData.content,this.saveLoading=!0,Object(s["i"])(this.addForm).then(function(e){if(!Object(o["l"])(e))throw new Error(e.msg);a.$message.success("成功"),a.$refs.crm.close()}).catch(function(e){a.$message.error(e.message)}).finally(function(){a.saveLoading=!1})},handleCancel:function(){this.$refs.crm.close()}},mounted:function(){}}),l=r,d=(t("9053"),t("2877")),c=Object(d["a"])(l,n,i,!1,null,"5e1bd314",null);a["default"]=c.exports},"5f99":function(e,a,t){"use strict";t.r(a);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"codePreview"}},[n("c-resizable-modal",{ref:"crm",attrs:{footer:null,title:"代码预览"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("a-spin",{attrs:{tip:"正在请求数据...",spinning:t.spinning}},[n("a-tabs",t._l(t.previewData,function(e,a){return n("a-tab-pane",{key:a,staticClass:"preview-box",attrs:{tab:a.substring(a.lastIndexOf("/")+1,a.indexOf(".vm")),name:a.substring(a.lastIndexOf("/")+1,a.indexOf(".vm"))}},[n("a-button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e,expression:"value"},{name:"clipboard",rawName:"v-clipboard:success",value:t.clipboardSuccessHandler,expression:"clipboardSuccessHandler",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.clipboardErrorHandler,expression:"clipboardErrorHandler",arg:"error"}],staticClass:"copy-btn",attrs:{icon:"copy",type:"dashed"}},[t._v("复制")]),n("pre",[n("code",{staticClass:"hljs",domProps:{innerHTML:t._s(t.highlightedCode(e,a))}})])],1)}),1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("a-button",{staticClass:"margin-btn",attrs:{type:"info",icon:"close"},on:{click:t.handleCancel}},[t._v("取 消")]),n("a-button",{staticClass:"margin-btn",attrs:{type:"primary",icon:"check",loading:t.saveLoading},on:{click:t.handleSave}},[t._v("保存")])],1)])],1)},i=[],s=(t("d3b7"),t("f058")),o=t("1487"),r=t.n(o);t("e619");r.a.registerLanguage("java",t("332f")),r.a.registerLanguage("xml",t("8dcb")),r.a.registerLanguage("html",t("8dcb")),r.a.registerLanguage("vue",t("8dcb")),r.a.registerLanguage("javascript",t("4dd1")),r.a.registerLanguage("sql",t("de09"));var l={data:function(){return{saveLoading:!1,spinning:!0,previewData:{}}},methods:{clipboardSuccessHandler:function(e){e.value,e.event;this.$message.success("已复制")},clipboardErrorHandler:function(e){e.value,e.event},reset:function(){this.previewData={}},open:function(e){var a=this;this.reset(),this.spinning=!0,Object(s["g"])(e).then(function(e){a.previewData=e.data}).finally(function(){a.spinning=!1}),this.$refs.crm.open()},handleSave:function(){var e=this;this.saveLoading=!0,setTimeout(function(){e.saveLoading=!1,e.$refs.crm.close()},2e3),this.$message.success("触发保存事件")},handleCancel:function(){this.$refs.crm.close()},highlightedCode:function(e,a){var t=a.substring(a.lastIndexOf("/")+1,a.indexOf(".vm")),n=t.substring(t.indexOf(".")+1,t.length),i=r.a.highlight(n,e||"",!0);return i.value||"&nbsp;"}}},d=l,c=(t("fcba"),t("2877")),m=Object(c["a"])(d,n,i,!1,null,"77ee150a",null);a["default"]=m.exports},"743e":function(e,a,t){"use strict";t.r(a);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"role-config white-back-box"},[n("c-query-form-table",{attrs:{searchParams:t.par,tableData:t.tableData,tableColumns:t.tableColumns,needTableCheckList:!0,selectTableKeys:t.selectTableKeys,loadingFlag:t.loadingFlag},on:{selectTableKeysChangeFromQFT:t.selectTableKeysChangeFromQFT,formQuery:t.formQuery,dbClick:t.dbClick,reloadData:t.reloadData},scopedSlots:t._u([{key:"tableActionBox",fn:function(a){return[n("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:preview"],expression:"['sys:gen:preview']"}],attrs:{type:"link"},on:{click:function(e){return t.handleOpenCodePreviewModal(a.data.sid)}}},[t._v("预览")]),n("c-more-btn-collect",[n("div",{attrs:{slot:"content"},slot:"content"},[n("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:getInfo"],expression:"['sys:gen:getInfo']"}],attrs:{type:"link"},on:{click:function(e){return t.handleEditCodePreviewSetting(a.data.sid)}}},[t._v("编辑")]),n("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:remove"],expression:"['sys:gen:remove']"}],attrs:{type:"link"},on:{click:function(e){return t.handleDeleteData([a.data.sid])}}},[t._v("删除")]),n("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:synchDb"],expression:"['sys:gen:synchDb']"}],attrs:{type:"link"},on:{click:function(e){return t.handleSyncData(a.data)}}},[t._v("同步")]),n("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:batchGenCode"],expression:"['sys:gen:batchGenCode']"}],attrs:{type:"link"},on:{click:function(e){return t.handleGenerateCode(a.data)}}},[t._v("生成代码")])],1)])]}}])},[n("template",{staticClass:"btn-box",slot:"functionBtnBox"},[n("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:batchGenCode"],expression:"['sys:gen:batchGenCode']"}],staticClass:"margin-btn",attrs:{type:"primary",disabled:"",icon:"download"}},[t._v("生成（Demo）")]),n("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:batchGenCode"],expression:"['sys:gen:batchGenCode']"}],staticClass:"margin-btn",attrs:{type:"primary",icon:"import"},on:{click:t.handleOpenImportModal}},[t._v("导入")]),n("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:getInfo"],expression:"['sys:gen:getInfo']"}],staticClass:"margin-btn",attrs:{type:"primary",icon:"edit",disabled:1!==t.selectTableKeys.length},on:{click:function(e){return t.handleEditCodePreviewSetting(t.selectTableKeys[0])}}},[t._v("修改")]),n("a-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["sys:gen:remove"],expression:"['sys:gen:remove']"}],staticClass:"margin-btn",attrs:{type:"primary",icon:"delete",disabled:t.selectTableKeys.length<1},on:{click:function(e){return t.handleDeleteData(t.selectTableKeys)}}},[t._v("删除")])],1)],2),n("modal-code-preview",{ref:"modalCodePreview"}),n("modal-code-generate-setting",{ref:"modalCodeGenerateSetting"}),n("modal-import",{ref:"modalImport"})],1)},i=[],s=(t("d3b7"),t("25f0"),t("5f99")),o=t("3e57"),r=t("208d"),l=t("f058"),d=t("ed08"),c=t("c1df"),m=t.n(c),u=(t("5c3a"),t("f5ef"));m.a.locale("zh-cn");var p={data:function(){return{par:[{name:"tableName",label:"表名称",type:"input"},{name:"tableComment",label:"表描述",type:"input"},{name:"createTime",label:"创建起始",type:"datetimeRange"}],tableData:{pageSize:10,pageNum:1,totalPages:1,totalSize:1,content:[]},tableColumns:[{title:"表名称",dataIndex:"tableName",key:"tableName"},{title:"表描述",dataIndex:"tableComment",key:"tableComment"},{title:"实体",dataIndex:"className",key:"className"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"更新时间",dataIndex:"updateTime",key:"updateTime"}],selectTableKeys:[],loadingFlag:!1}},mounted:function(){var e=this,a=this.tableData,t=a.pageNum,n=a.pageSize;this.loadData({pageNum:t,pageSize:n},{}),u["a"].$on("reloadData",function(){e.reloadData({},{})})},methods:{loadData:function(e,a){var t=this;this.loadingFlag=!0,"{}"===JSON.stringify(e)&&(e.pageNum=this.tableData.pageNum,e.pageSize=this.tableData.pageSize),Object(l["d"])(e.pageNum,e.pageSize,a).then(function(e){var a={pageSize:t.tableData.pageSize,pageNum:1,totalPages:Math.ceil(e.total/t.tableData.pageSize),totalSize:e.total,content:e.rows};t.tableData=a}).finally(function(){t.loadingFlag=!1})},selectTableKeysChangeFromQFT:function(e){this.selectTableKeys=e},formQuery:function(e){e.createStartTime=m()(e.createTime[0]).format("YYYY-MM-DD HH:mm:ss"),e.createEndTime=m()(e.createTime[1]).format("YYYY-MM-DD HH:mm:ss"),e.createTime=void 0,this.loadData({},e)},dbClick:function(e){this.handleEditCodePreviewSetting(e.sid)},reloadData:function(e){if("{}"!==JSON.stringify(e)){var a=e.pageNum,t=e.pageSize;this.tableData.pageNum=a,this.tableData.pageSize=t}this.loadData({},null)},handleOpenCodePreviewModal:function(e){this.$refs.modalCodePreview.open(e)},handleSyncData:function(a){var t=this;this.$confirm({title:"同步操作确认",content:"确认同步“".concat(a.tableComment,"”吗？"),onOk:function(){Object(l["a"])(a.sid).then(function(e){if(!Object(d["l"])(e))throw new Error(e.msg);t.$message.success("".concat(a.tableComment,"已同步"))}).catch(function(e){t.$message.error(e.message)})}})},handleDeleteData:function(a){var t=this;this.$confirm({title:"删除操作确认",content:"确认删除这".concat(a.length,"项数据？"),onOk:function(){Object(l["b"])(a.toString()).then(function(e){if(!Object(d["l"])(e))throw new Error(e.msg);t.$message.success("已删除".concat(a.length,"项数据")),t.selectTableKeys=[],t.loadData({},null)}).catch(function(e){t.$message.error("错误："+e.message)})}})},handleGenerateCode:function(a){var t=this;this.$confirm({title:"生成代码确认",content:"确认生成“".concat(a.tableComment,"”的代码吗？"),onOk:function(){Object(l["c"])(a.sid).then(function(e){if(!Object(d["l"])(e))throw new Error(e.msg);t.$message.success("".concat(a.tableComment,"已生成代码"))}).catch(function(e){t.$message.error(e.message)})}})},handleEditCodePreviewSetting:function(e){this.$refs.modalCodeGenerateSetting.open({mode:"edit",sid:e})},handleOpenImportModal:function(){this.$refs.modalImport.open()}},components:{modalCodePreview:s["default"],modalCodeGenerateSetting:o["default"],modalImport:r["default"]}},b=p,f=(t("937a"),t("2877")),g=Object(f["a"])(b,n,i,!1,null,"23929448",null);a["default"]=g.exports},"78a7":function(e,a,t){},9053:function(e,a,t){"use strict";t("2a08")},"937a":function(e,a,t){"use strict";t("78a7")},fa2b:function(e,a,t){},fcba:function(e,a,t){"use strict";t("fa2b")}}]);